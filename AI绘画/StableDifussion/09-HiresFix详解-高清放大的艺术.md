---
title: Hires.fix è¯¦è§£ - é«˜æ¸…æ”¾å¤§çš„è‰ºæœ¯
date: 2025-12-04
tags:
  - Stable Diffusion
  - Hires.fix
  - é«˜æ¸…ä¿®å¤
  - AIç»˜ç”»
categories:
  - AIç»˜ç”»
---

# Hires.fix è¯¦è§£ - é«˜æ¸…æ”¾å¤§çš„è‰ºæœ¯

## ğŸ¯ ä»€ä¹ˆæ˜¯ Hires.fixï¼Ÿ

**Hires.fix (High Resolution Fix)** æ˜¯ Stable Diffusion çš„é«˜æ¸…ä¿®å¤åŠŸèƒ½ï¼Œé€šè¿‡äºŒæ¬¡ç”ŸæˆæŠ€æœ¯å°†å°å°ºå¯¸å›¾åƒæ”¾å¤§åˆ°é«˜åˆ†è¾¨ç‡ï¼ŒåŒæ—¶ä¿æŒç»†èŠ‚æ¸…æ™°ã€é¿å…ç”»é¢å´©åã€‚

### ä¸ºä»€ä¹ˆéœ€è¦ Hires.fixï¼Ÿ

```mermaid
graph TB
    subgraph "ç›´æ¥ç”Ÿæˆå¤§å›¾çš„é—®é¢˜"
        A1[ç›´æ¥ç”Ÿæˆ 1024Ã—1024] --> B1[æ„å›¾æ··ä¹±]
        A1 --> C1[å¤šä½™è‚¢ä½“]
        A1 --> D1[é‡å¤å…ƒç´ ]
        A1 --> E1[é€è§†é”™è¯¯]
    end

    subgraph "Hires.fix æ–¹æ¡ˆ"
        A2[ç”Ÿæˆ 512Ã—512<br/>æ„å›¾æ­£å¸¸] --> B2[æ”¾å¤§åˆ° 1024Ã—1024]
        B2 --> C2[äºŒæ¬¡é‡ç»˜ç»†èŠ‚]
        C2 --> D2[é«˜æ¸…ä¸”æ­£ç¡®]
    end

    style A1 fill:#ff6b6b
    style D2 fill:#5cb85c
```

**æ ¸å¿ƒé—®é¢˜ï¼š**
- SD 1.5 è®­ç»ƒåˆ†è¾¨ç‡ï¼š512Ã—512 ğŸ“
- ç›´æ¥ç”Ÿæˆå¤§å›¾ï¼šè¶…å‡ºè®­ç»ƒåˆ†å¸ƒ â†’ å´©å âŒ
- Hires.fix ç­–ç•¥ï¼šå°å›¾æ„å›¾ + å¤§å›¾ç»†åŒ– âœ…

---

## ğŸ”¬ Hires.fix å·¥ä½œåŸç†

### ä¸¤é˜¶æ®µç”Ÿæˆæµç¨‹

```mermaid
sequenceDiagram
    participant P as æç¤ºè¯
    participant S1 as ç¬¬ä¸€é˜¶æ®µ<br/>åŸºç¡€ç”Ÿæˆ
    participant U as æ”¾å¤§ç®—æ³•
    participant S2 as ç¬¬äºŒé˜¶æ®µ<br/>é«˜æ¸…é‡ç»˜
    participant R as æœ€ç»ˆç»“æœ

    P->>S1: ç”Ÿæˆå°å›¾ 512Ã—512
    Note over S1: Steps: 28<br/>CFG: 7
    S1->>U: è¾“å‡ºåŸºç¡€å›¾
    U->>U: æ”¾å¤§ 2å€ â†’ 1024Ã—1024
    Note over U: Upscaler: R-ESRGAN 4x+
    U->>S2: è¾“å…¥æ”¾å¤§åçš„æ¨¡ç³Šå›¾
    Note over S2: Hires Steps: 15<br/>Denoising: 0.5
    S2->>S2: é‡ç»˜ç»†èŠ‚
    S2->>R: è¾“å‡ºé«˜æ¸…å›¾
```

### æŠ€æœ¯ç»†èŠ‚

```java
// ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€ç”Ÿæˆ
é˜¶æ®µ1å‚æ•°:
  - åˆ†è¾¨ç‡: 512Ã—512 (æˆ– 512Ã—768)
  - Sampler: DPM++ 2M Karras
  - Steps: 25-30
  - CFG Scale: 7
  ç›®æ ‡: ç¡®ä¿æ„å›¾æ­£ç¡®ã€ä¸»ä½“æ¸…æ™°

// æ”¾å¤§å¤„ç†
Upscalerç®—æ³•:
  - Latent: åœ¨æ½œç©ºé—´æ”¾å¤§ï¼ˆå¿«é€Ÿä½†è´¨é‡ä¸€èˆ¬ï¼‰
  - R-ESRGAN 4x+: çœŸå®å¢å¼ºï¼ˆæ¨èï¼‰
  - R-ESRGAN 4x+ Anime6B: åŠ¨æ¼«ä¸“ç”¨
  - SwinIR: å¹³è¡¡é€Ÿåº¦å’Œè´¨é‡
æ”¾å¤§å€ç‡:
  - å¸¸ç”¨: 1.5x - 2.5x
  - æœ€å¤§: 4x (æ€§èƒ½å…è®¸)

// ç¬¬äºŒé˜¶æ®µï¼šé«˜æ¸…é‡ç»˜
é˜¶æ®µ2å‚æ•°:
  - Hires Steps: 10-20 (é€šå¸¸ä¸ºåŸæ­¥æ•°çš„50-70%)
  - Denoising Strength: 0.4-0.7
    - 0.3-0.4: ä¿æŒåŸå›¾ï¼Œè½»å¾®ç»†åŒ–
    - 0.5-0.6: å¹³è¡¡ä¿®å¤ï¼ˆæ¨èï¼‰
    - 0.7-0.8: å¤§å¹…é‡ç»˜ï¼Œå¯èƒ½æ”¹å˜æ„å›¾
  ç›®æ ‡: æ·»åŠ é«˜åˆ†è¾¨ç‡ç»†èŠ‚ï¼Œä¿®å¤ç‘•ç–µ
```

---

## âš™ï¸ æ ¸å¿ƒå‚æ•°è¯¦è§£

### 1. Upscaler (æ”¾å¤§ç®—æ³•)

```mermaid
graph LR
    A[æ”¾å¤§ç®—æ³•é€‰æ‹©] --> B[Latent]
    A --> C[R-ESRGAN 4x+]
    A --> D[R-ESRGAN 4x+ Anime6B]
    A --> E[SwinIR]

    B --> F[é€Ÿåº¦å¿«<br/>è´¨é‡ä¸€èˆ¬<br/>é€‚åˆé¢„è§ˆ]
    C --> G[è´¨é‡é«˜<br/>çœŸå®é£æ ¼<br/>é€šç”¨æ¨è]
    D --> H[åŠ¨æ¼«ä¼˜åŒ–<br/>çº¿æ¡æ¸…æ™°<br/>äºŒæ¬¡å…ƒä¸“ç”¨]
    E --> I[å¹³è¡¡é€‰æ‹©<br/>é€Ÿåº¦ä¸­ç­‰<br/>è´¨é‡è‰¯å¥½]

    style C fill:#5cb85c
    style D fill:#4ecdc4
```

**ç®—æ³•å¯¹æ¯”è¡¨ï¼š**

| ç®—æ³• | é€Ÿåº¦ | è´¨é‡ | é€‚ç”¨é£æ ¼ | æ¨èåœºæ™¯ |
|------|------|------|----------|----------|
| **Latent** | âš¡âš¡âš¡âš¡âš¡ | â­â­ | é€šç”¨ | å¿«é€Ÿæµ‹è¯•ã€é¢„è§ˆ |
| **R-ESRGAN 4x+** | âš¡âš¡âš¡ | â­â­â­â­â­ | çœŸå®ã€å†™å® | ç…§ç‰‡ã€äº§å“ã€é£æ™¯ |
| **R-ESRGAN 4x+ Anime6B** | âš¡âš¡âš¡ | â­â­â­â­â­ | åŠ¨æ¼«ã€æ’ç”» | äºŒæ¬¡å…ƒã€æ¼«ç”» |
| **SwinIR 4x** | âš¡âš¡âš¡âš¡ | â­â­â­â­ | é€šç”¨ | æ—¥å¸¸åˆ›ä½œ |
| **LDSR** | âš¡ | â­â­â­â­â­ | çœŸå® | æè‡´è´¨é‡ï¼ˆæ…¢ï¼‰ |

**å®æˆ˜é€‰æ‹©ï¼š**

```java
// å†™å®æ‘„å½±
Upscaler: R-ESRGAN 4x+
ç†ç”±: çœŸå®ç»†èŠ‚å¢å¼ºï¼Œçš®è‚¤ã€æè´¨è¡¨ç°å¥½

// åŠ¨æ¼«æ’ç”»
Upscaler: R-ESRGAN 4x+ Anime6B
ç†ç”±: çº¿æ¡é”åŒ–ï¼Œè‰²å½©é²œè‰³ï¼Œä¸ä¼šç³Š

// æ¦‚å¿µè‰ºæœ¯
Upscaler: SwinIR 4x
ç†ç”±: ä¿æŒè‰ºæœ¯æ„Ÿï¼Œä¸è¿‡åº¦çœŸå®åŒ–

// å¿«é€Ÿæµ‹è¯•
Upscaler: Latent
ç†ç”±: æœ€å¿«ï¼Œç”¨äºç¡®è®¤æ„å›¾
```

---

### 2. Upscale by (æ”¾å¤§å€ç‡)

```java
// æ”¾å¤§å€ç‡å»ºè®®
512Ã—512 â†’ 768Ã—768   (1.5x)  // è½»åº¦æ”¾å¤§ï¼Œé€Ÿåº¦å¿«
512Ã—512 â†’ 1024Ã—1024 (2.0x)  // å¸¸ç”¨é€‰æ‹©ï¼ˆæ¨èï¼‰
512Ã—768 â†’ 1024Ã—1536 (2.0x)  // ç«–å›¾å¸¸ç”¨
512Ã—512 â†’ 2048Ã—2048 (4.0x)  // æé™é«˜æ¸…ï¼Œæ˜¾å­˜éœ€æ±‚å¤§

// å€ç‡é€‰æ‹©åŸåˆ™
æ—¥å¸¸åˆ›ä½œ: 1.5x - 2.0x
ç¤¾äº¤åª’ä½“: 2.0x (1024 px è¶³å¤Ÿ)
æ‰“å°è¾“å‡º: 2.5x - 4.0x
å£çº¸æµ·æŠ¥: 3.0x - 4.0x
```

**æ˜¾å­˜æ¶ˆè€—å¯¹æ¯”ï¼š**

```mermaid
graph TB
    A[512Ã—512 åŸºç¡€] --> B[1.5x = 768Ã—768<br/>æ˜¾å­˜: ~3GB]
    A --> C[2.0x = 1024Ã—1024<br/>æ˜¾å­˜: ~5GB]
    A --> D[3.0x = 1536Ã—1536<br/>æ˜¾å­˜: ~9GB]
    A --> E[4.0x = 2048Ã—2048<br/>æ˜¾å­˜: ~14GB]

    style C fill:#5cb85c
    style E fill:#ff6b6b
```

---

### 3. Hires Steps (é«˜æ¸…æ­¥æ•°)

```java
// æ­¥æ•°é…ç½®ç­–ç•¥
åŸå§‹Steps = 28

Hires Steps å»ºè®®:
  - å¿«é€Ÿæ¨¡å¼: 10-12 steps (åŸæ­¥æ•°çš„ 40%)
  - æ ‡å‡†æ¨¡å¼: 15-18 steps (åŸæ­¥æ•°çš„ 60%) âœ… æ¨è
  - é«˜è´¨é‡: 20-25 steps (åŸæ­¥æ•°çš„ 80%)
  - æè‡´ç»†èŠ‚: = åŸå§‹Steps

// å®æˆ˜æ¡ˆä¾‹
ç¬¬ä¸€é˜¶æ®µ Steps: 30
Hires Steps: 18        // 60% è§„åˆ™
æ€»æ­¥æ•°: 30 + 18 = 48

// æ­¥æ•°ä¸è´¨é‡å…³ç³»
Hires Steps < 10: ç»†èŠ‚å¢å¼ºä¸è¶³
Hires Steps 15-20: æ€§ä»·æ¯”æœ€é«˜ â­
Hires Steps > 25: æ”¶ç›Šé€’å‡ï¼Œè€—æ—¶é•¿
```

---

### 4. Denoising Strength (é‡ç»˜å¹…åº¦)

**æœ€å…³é”®çš„å‚æ•°ï¼** å†³å®šé«˜æ¸…é˜¶æ®µä¿®æ”¹åŸå›¾çš„ç¨‹åº¦ã€‚

```mermaid
graph LR
    A[Denoising: 0.0] --> B[å®Œå…¨ä¸å˜<br/>ä»…æ”¾å¤§]
    C[Denoising: 0.3-0.4] --> D[è½»å¾®ç»†åŒ–<br/>ä¿æŒåŸå›¾]
    E[Denoising: 0.5-0.6] --> F[å¹³è¡¡é‡ç»˜<br/>æ¨èèŒƒå›´]
    G[Denoising: 0.7-0.8] --> H[å¤§å¹…ä¿®æ”¹<br/>å¯èƒ½å˜åŒ–]
    I[Denoising: 1.0] --> J[å®Œå…¨é‡ç»˜<br/>å‡ ä¹æ–°å›¾]

    style F fill:#5cb85c
    style H fill:#f0ad4e
    style J fill:#ff6b6b
```

**æ•°å€¼æŒ‡å—ï¼š**

```java
// Denoising 0.3-0.4ï¼šä¿å®ˆä¿®å¤
é€‚ç”¨åœºæ™¯:
  - åŸå›¾å·²ç»å¾ˆå®Œç¾
  - åªéœ€è¦å¢åŠ åˆ†è¾¨ç‡
  - ä¸æƒ³æ”¹å˜æ„å›¾
æ•ˆæœ: è½»å¾®é”åŒ–ã€ç»†èŠ‚è¡¥å……

// Denoising 0.5-0.6ï¼šå¹³è¡¡é‡ç»˜ï¼ˆæ¨èï¼‰
é€‚ç”¨åœºæ™¯:
  - æ—¥å¸¸åˆ›ä½œ
  - éœ€è¦ä¼˜åŒ–ç»†èŠ‚
  - å…è®¸è½»å¾®å˜åŒ–
æ•ˆæœ: æ·»åŠ ç»†èŠ‚ã€ä¿®æ­£ç‘•ç–µã€ä¿æŒä¸»ä½“

// Denoising 0.7-0.8ï¼šå¤§å¹…é‡ç»˜
é€‚ç”¨åœºæ™¯:
  - åŸå›¾è´¨é‡ä¸€èˆ¬
  - éœ€è¦å¤§å¹…æ”¹å–„
  - å¯æ¥å—æ„å›¾å˜åŒ–
æ•ˆæœ: é‡æ–°ç”Ÿæˆç»†èŠ‚ã€å¯èƒ½æ”¹å˜å§¿åŠ¿/è¡¨æƒ…

// Denoising 0.9-1.0ï¼šé‡æ–°åˆ›ä½œ
é€‚ç”¨åœºæ™¯:
  - ä»…ä½œä¸ºæ„å›¾å‚è€ƒ
  - å®Œå…¨é‡ç»˜
æ•ˆæœ: åŸºæœ¬æ˜¯æ–°å›¾ï¼Œä»…ä¿ç•™å¤§è‡´æ„å›¾
```

**è°ƒè¯•æŠ€å·§ï¼š**

```java
// é—®é¢˜è¯Šæ–­
é—®é¢˜: æ”¾å¤§åæ¨¡ç³Šä¸æ¸…
è§£å†³: æé«˜ Denoising (0.5 â†’ 0.6)

é—®é¢˜: äººç‰©é¢éƒ¨å˜å½¢
è§£å†³: é™ä½ Denoising (0.6 â†’ 0.4)

é—®é¢˜: æ”¾å¤§åå®Œå…¨å˜æ ·
è§£å†³: å¤§å¹…é™ä½ Denoising (0.7 â†’ 0.3-0.4)

é—®é¢˜: ç»†èŠ‚ä¸å¤Ÿä¸°å¯Œ
è§£å†³: å¢åŠ  Hires Steps (15 â†’ 20) + å¾®è°ƒ Denoising
```

---

## ğŸ¨ å®æˆ˜é…ç½®æ–¹æ¡ˆ

### æ–¹æ¡ˆ1ï¼šäººç‰©è‚–åƒï¼ˆå†™å®ï¼‰

```java
// ç¬¬ä¸€é˜¶æ®µ
Resolution: 512Ã—768
Sampler: DPM++ 2M Karras
Steps: 28
CFG Scale: 7

// Hires.fix è®¾ç½®
â˜‘ Enable Hires.fix
Upscaler: R-ESRGAN 4x+
Upscale by: 2.0 (è¾“å‡º 1024Ã—1536)
Hires Steps: 18
Denoising Strength: 0.45

// æç¤ºè¯
Prompt: portrait of a beautiful woman, professional photography,
        studio lighting, detailed face, sharp eyes, <lora:detail_skin:0.4>

// é¢„æœŸæ•ˆæœ
- é¢éƒ¨ç»†è…»ã€çš®è‚¤è´¨æ„ŸçœŸå®
- çœ¼ç›ã€å¤´å‘ç»†èŠ‚ä¸°å¯Œ
- æ— å¤šä½™è‚¢ä½“ã€æ„å›¾ç¨³å®š
```

---

### æ–¹æ¡ˆ2ï¼šåŠ¨æ¼«è§’è‰²

```java
// ç¬¬ä¸€é˜¶æ®µ
Resolution: 512Ã—768
Sampler: Euler a
Steps: 25
CFG Scale: 8

// Hires.fix è®¾ç½®
â˜‘ Enable Hires.fix
Upscaler: R-ESRGAN 4x+ Anime6B
Upscale by: 2.0
Hires Steps: 15
Denoising Strength: 0.5

// æç¤ºè¯
Prompt: 1girl, anime style, colorful hair, cute face,
        school uniform, outdoor, cherry blossoms,
        <lora:ghibli_style:0.7>

// é¢„æœŸæ•ˆæœ
- çº¿æ¡æ¸…æ™°é”åˆ©
- è‰²å½©é²œè‰³ä¸å¤±çœŸ
- ç»†èŠ‚ä¸°å¯Œï¼ˆçœ¼ç›ã€å¤´å‘ï¼‰
```

---

### æ–¹æ¡ˆ3ï¼šé£æ™¯åœºæ™¯

```java
// ç¬¬ä¸€é˜¶æ®µ
Resolution: 768Ã—512 (æ¨ªå›¾)
Sampler: DPM++ SDE Karras
Steps: 30
CFG Scale: 6

// Hires.fix è®¾ç½®
â˜‘ Enable Hires.fix
Upscaler: SwinIR 4x
Upscale by: 2.5 (è¾“å‡º 1920Ã—1280)
Hires Steps: 20
Denoising Strength: 0.55

// æç¤ºè¯
Prompt: mountain landscape, sunrise, mist, lake reflection,
        photorealistic, 8k, highly detailed

// é¢„æœŸæ•ˆæœ
- è¿œæ™¯æ¸…æ™°ã€å±‚æ¬¡åˆ†æ˜
- æ°´é¢ã€äº‘å±‚ç»†èŠ‚ä¸°å¯Œ
- æ•´ä½“æ°›å›´åè°ƒ
```

---

### æ–¹æ¡ˆ4ï¼šäº§å“è®¾è®¡ï¼ˆé«˜ç²¾åº¦ï¼‰

```java
// ç¬¬ä¸€é˜¶æ®µ
Resolution: 512Ã—512
Sampler: DPM++ 2M Karras
Steps: 35
CFG Scale: 9

// Hires.fix è®¾ç½®
â˜‘ Enable Hires.fix
Upscaler: R-ESRGAN 4x+
Upscale by: 3.0 (è¾“å‡º 1536Ã—1536)
Hires Steps: 25
Denoising Strength: 0.4

// æç¤ºè¯
Prompt: product photography, luxury watch, studio lighting,
        white background, reflective surface, commercial photography,
        ultra detailed, 8k

// é¢„æœŸæ•ˆæœ
- äº§å“ç»†èŠ‚æè‡´æ¸…æ™°
- æè´¨è´¨æ„ŸçœŸå®
- é€‚åˆç”µå•†ã€å¹¿å‘Šä½¿ç”¨
```

---

## ğŸš€ è¿›é˜¶æŠ€å·§

### 1. åˆ†æ®µæ”¾å¤§ç­–ç•¥

```java
// è¶…å¤§å›¾ç”Ÿæˆï¼ˆ4K+ï¼‰å»ºè®®åˆ†ä¸¤æ¬¡æ”¾å¤§
æ–¹æ¡ˆ: 512 â†’ 1024 â†’ 2048

ç¬¬ä¸€æ¬¡æ”¾å¤§:
  512Ã—512 â†’ 1024Ã—1024
  Denoising: 0.5
  Hires Steps: 18

ç¬¬äºŒæ¬¡æ”¾å¤§:
  1024Ã—1024 â†’ 2048Ã—2048
  Denoising: 0.3 (é™ä½ï¼Œé¿å…è¿‡åº¦ä¿®æ”¹)
  Hires Steps: 15

ä¼˜åŠ¿: é¿å…ä¸€æ¬¡æ”¾å¤§4å€å¯¼è‡´ç»†èŠ‚å¤±çœŸ
```

---

### 2. ä¸åŒåŒºåŸŸä¸åŒç­–ç•¥

```java
// ä½¿ç”¨ ADetailer é…åˆ Hires.fix
æµç¨‹:
  1. Hires.fix æ”¾å¤§æ•´ä½“
  2. ADetailer æ£€æµ‹é¢éƒ¨
  3. å•ç‹¬ä¼˜åŒ–é¢éƒ¨ç»†èŠ‚

é…ç½®:
  Hires.fix Denoising: 0.5 (æ•´ä½“)
  ADetailer Denoising: 0.35 (é¢éƒ¨ï¼Œæ›´ä¿å®ˆ)

æ•ˆæœ: èƒŒæ™¯å’Œäººç‰©éƒ½å®Œç¾
```

---

### 3. Latent æ¨¡å¼ä¼˜åŒ–

```java
// Latent Upscaler ç‰¹æ®Šç”¨æ³•
ä¼˜åŠ¿:
  - é€Ÿåº¦æå¿«ï¼ˆ2-3å€ï¼‰
  - æ˜¾å­˜å ç”¨ä½
  - å¯ç”¨äºå¿«é€Ÿè¿­ä»£

åŠ£åŠ¿:
  - è´¨é‡ç•¥ä½
  - ç»†èŠ‚è¾ƒå°‘

å¼¥è¡¥æ–¹æ¡ˆ:
  Upscaler: Latent
  Denoising: 0.65-0.7 (æé«˜é‡ç»˜å¹…åº¦è¡¥å¿è´¨é‡)
  Hires Steps: 20-25 (å¢åŠ æ­¥æ•°)

é€‚ç”¨: æ„å›¾æµ‹è¯•ã€å¿«é€Ÿå‡ºå›¾
```

---

### 4. å›ºå®šSeedé…åˆ

```java
// ä¿æŒä¸€è‡´æ€§çš„æŠ€å·§
ç¬¬ä¸€æ¬¡ç”Ÿæˆ:
  Resolution: 512Ã—768
  Seed: 123456789 (è®°å½•)
  ä¸å¯ç”¨ Hires.fix
  â†’ å¾—åˆ°æ»¡æ„æ„å›¾

ç¬¬äºŒæ¬¡æ”¾å¤§:
  Resolution: 512Ã—768
  Seed: 123456789 (ç›¸åŒ)
  â˜‘ Enable Hires.fix
  Denoising: 0.45
  â†’ é«˜æ¸…ç‰ˆæœ¬

ä¼˜åŠ¿: å¯å¯¹æ¯”ä¸åŒ Denoising æ•ˆæœ
```

---

## âš ï¸ å¸¸è§é—®é¢˜æ’æŸ¥

### é—®é¢˜å¯¹ç…§è¡¨

| é—®é¢˜ç°è±¡ | å¯èƒ½åŸå›  | è§£å†³æ–¹æ¡ˆ |
|----------|----------|----------|
| **æ”¾å¤§åæ¨¡ç³Š** | Denoising å¤ªä½ | æé«˜åˆ° 0.5-0.6 |
| **äººç‰©å˜å½¢/å´©å** | Denoising å¤ªé«˜ | é™ä½åˆ° 0.3-0.45 |
| **ç»†èŠ‚ä¸è¶³** | Hires Steps å¤ªå°‘ | å¢åŠ åˆ° 18-20 |
| **ç”Ÿæˆå¤ªæ…¢** | å€ç‡/æ­¥æ•°å¤ªé«˜ | é™ä½å€ç‡æˆ–å‡å°‘æ­¥æ•° |
| **æ˜¾å­˜ä¸è¶³** | æ”¾å¤§å€ç‡å¤ªå¤§ | é™ä½åˆ° 1.5x æˆ– 2.0x |
| **é¢œè‰²å¤±çœŸ** | Upscaler ä¸åŒ¹é… | æ›´æ¢ç®—æ³•ï¼ˆåŠ¨æ¼«ç”¨ Anime6Bï¼‰ |
| **å™ªç‚¹/é¢—ç²’æ„Ÿ** | Denoising å¤ªé«˜ + Steps ä¸è¶³ | é™ä½ Denoising æˆ–å¢åŠ  Steps |

---

### è°ƒè¯•æµç¨‹

```mermaid
graph TD
    A[å¯ç”¨ Hires.fix] --> B{æ•ˆæœæ»¡æ„?}
    B -->|æ¨¡ç³Š| C[æé«˜ Denoising<br/>0.5 â†’ 0.6]
    B -->|å˜å½¢| D[é™ä½ Denoising<br/>0.6 â†’ 0.4]
    B -->|ç»†èŠ‚å°‘| E[å¢åŠ  Hires Steps<br/>15 â†’ 20]
    B -->|å¤ªæ…¢| F[é™ä½å€ç‡<br/>2.0 â†’ 1.5]

    C --> G[å†æ¬¡æµ‹è¯•]
    D --> G
    E --> G
    F --> G
    G --> B

    B -->|æ»¡æ„| H[ä¿å­˜é…ç½®]

    style H fill:#5cb85c
```

---

## ğŸ’¡ æœ€ä½³å®è·µæ€»ç»“

### æ–°æ‰‹æ¨èé…ç½®

```java
// é€‚åˆå¤§å¤šæ•°åœºæ™¯çš„ä¸‡ç”¨é…ç½®
Upscaler: R-ESRGAN 4x+ (å†™å®) æˆ– Anime6B (åŠ¨æ¼«)
Upscale by: 2.0
Hires Steps: åŸå§‹Steps Ã— 0.6
Denoising Strength: 0.5

// ç¤ºä¾‹
åŸºç¡€ Steps: 28
Hires Steps: 17
Denoising: 0.5
```

---

### è´¨é‡ä¼˜å…ˆé…ç½®

```java
// è¿½æ±‚æè‡´è´¨é‡
Upscaler: R-ESRGAN 4x+ æˆ– LDSR
Upscale by: 2.5-3.0
Hires Steps: åŸå§‹Steps Ã— 0.8
Denoising Strength: 0.45-0.55
åŸºç¡€ Steps: 35+
```

---

### é€Ÿåº¦ä¼˜å…ˆé…ç½®

```java
// å¿«é€Ÿå‡ºå›¾
Upscaler: Latent
Upscale by: 1.5
Hires Steps: 10-12
Denoising Strength: 0.65
åŸºç¡€ Steps: 20
```

---

## ğŸ”„ ä¸å…¶ä»–åŠŸèƒ½é…åˆ

### Hires.fix + LoRA

```java
// æ¨èåšæ³•
1. åŸºç¡€ç”Ÿæˆé˜¶æ®µåº”ç”¨ LoRA
   Prompt: beautiful girl, <lora:style_A:0.8>

2. Hires.fix é˜¶æ®µè‡ªåŠ¨ç»§æ‰¿ LoRA
   æ— éœ€é¢å¤–è®¾ç½®

3. è°ƒæ•´ Denoising
   LoRA æ•ˆæœå¼º: Denoising 0.4 (ä¿æŒé£æ ¼)
   LoRA æ•ˆæœå¼±: Denoising 0.6 (å¢å¼ºé£æ ¼)
```

---

### Hires.fix + ControlNet

```java
// ç»„åˆç­–ç•¥
1. ControlNet åœ¨ç¬¬ä¸€é˜¶æ®µç”Ÿæ•ˆ
   - ç¡®ä¿æ„å›¾ã€å§¿åŠ¿æ­£ç¡®

2. Hires.fix åœ¨ç¬¬äºŒé˜¶æ®µç»†åŒ–
   - Denoising å»ºè®®: 0.4-0.5
   - é¿å…ç ´å ControlNet å¼•å¯¼çš„ç»“æ„

æ³¨æ„: Denoising è¿‡é«˜ä¼šå‰Šå¼± ControlNet æ•ˆæœ
```

---

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–å»ºè®®

### æ˜¾å­˜èŠ‚çœæŠ€å·§

```java
// 8GB æ˜¾å­˜ä¼˜åŒ–
1. å¯ç”¨ xformers æˆ– sdp
2. ä½¿ç”¨ --medvram å¯åŠ¨å‚æ•°
3. æ”¾å¤§å€ç‡é™åˆ¶åœ¨ 2.0x
4. Batch Size = 1

// 6GB æ˜¾å­˜ä¼˜åŒ–
1. ä½¿ç”¨ --lowvram
2. å€ç‡ 1.5x
3. Upscaler é€‰æ‹© Latent
4. å¿…è¦æ—¶åˆ†æ®µæ”¾å¤§
```

---

### é€Ÿåº¦ä¼˜åŒ–

```java
// æé€Ÿç­–ç•¥ï¼ˆä¿æŒè´¨é‡ï¼‰
1. Upscaler: SwinIR (é€Ÿåº¦ä¸è´¨é‡å¹³è¡¡)
2. Hires Steps: åŸSteps Ã— 0.5
3. Denoising: 0.55-0.6 (ç•¥æé«˜è¡¥å¿æ­¥æ•°å‡å°‘)
4. ä½¿ç”¨ Euler a é‡‡æ ·å™¨ï¼ˆç¬¬ä¸€é˜¶æ®µï¼‰

é¢„è®¡æé€Ÿ: 30-40%
è´¨é‡æŸå¤±: < 5%
```

---

## ğŸ“ è¿›é˜¶é˜…è¯»

### ç›¸å…³æ–‡ç« æ¨è

- [é‡‡æ ·æ–¹æ³•è¯¦è§£](./04-é‡‡æ ·æ–¹æ³•è¯¦è§£-Samplerçš„é€‰æ‹©ä¸ä¼˜åŒ–.md) - äº†è§£ä¸åŒé‡‡æ ·å™¨
- [Denoising Strength è¯¦è§£](./10-DenoisingStrengthè¯¦è§£-é‡ç»˜å¹…åº¦æ§åˆ¶.md) - æ·±å…¥ç†è§£é‡ç»˜å‚æ•°
- [LoRA è¯¦è§£](./08-LoRAè¯¦è§£-é£æ ¼è¿ç§»çš„åˆ©å™¨.md) - LoRA ä¸ Hires.fix é…åˆ

---

## ğŸ¯ æ ¸å¿ƒè¦ç‚¹å›é¡¾

1. **Hires.fix æœ¬è´¨**: å°å›¾æ„å›¾ + å¤§å›¾ç»†åŒ–çš„äºŒé˜¶æ®µç­–ç•¥
2. **å…³é”®å‚æ•°**: Denoising (0.4-0.6)ã€Hires Steps (åŸæ­¥æ•°çš„60%)
3. **ç®—æ³•é€‰æ‹©**: å†™å®ç”¨ R-ESRGAN 4x+ï¼ŒåŠ¨æ¼«ç”¨ Anime6B
4. **æ”¾å¤§å€ç‡**: æ—¥å¸¸ 2.0xï¼Œæ‰“å° 2.5-3.0x
5. **è°ƒè¯•åŸåˆ™**: æ¨¡ç³Šæé«˜ Denoisingï¼Œå˜å½¢é™ä½ Denoising

---

**Hires.fix è®©ä½ çš„ä½œå“ä»"èƒ½çœ‹"å˜æˆ"æƒŠè‰³"ï¼** âœ¨

æŒæ¡è¿™ä¸ªåŠŸèƒ½ï¼Œä½ å°±èƒ½ç”ŸæˆçœŸæ­£çš„é«˜æ¸…å¤§å›¾ï¼Œæ— è®ºæ˜¯æ‰“å°ã€å£çº¸è¿˜æ˜¯å•†ä¸šç”¨é€”éƒ½æ¸¸åˆƒæœ‰ä½™ï¼
