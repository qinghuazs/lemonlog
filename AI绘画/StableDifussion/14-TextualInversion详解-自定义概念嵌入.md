---
title: Textual Inversion è¯¦è§£ - è‡ªå®šä¹‰æ¦‚å¿µåµŒå…¥
date: 2025-12-04
tags:
  - Stable Diffusion
  - Textual Inversion
  - Embedding
  - åµŒå…¥
  - AIç»˜ç”»
categories:
  - AIç»˜ç”»
---

# Textual Inversion è¯¦è§£ - è‡ªå®šä¹‰æ¦‚å¿µåµŒå…¥

## ğŸ¯ ä»€ä¹ˆæ˜¯ Textual Inversionï¼Ÿ

**Textual Inversion (æ–‡æœ¬åæ¼”)**ï¼Œä¹Ÿç§°ä¸º **Embedding (åµŒå…¥)**ï¼Œæ˜¯ä¸€ç§è½»é‡çº§çš„æ¨¡å‹å®šåˆ¶æŠ€æœ¯ã€‚é€šè¿‡è®­ç»ƒä¸€ä¸ªç‰¹æ®Šçš„"è¯"æ¥ä»£è¡¨ç‰¹å®šæ¦‚å¿µï¼ˆå¦‚æŸä¸ªè§’è‰²ã€ç”»é£ã€ç‰©ä½“ï¼‰ï¼Œè®© AI å­¦ä¼šä½ è‡ªå®šä¹‰çš„æ¦‚å¿µã€‚

### æ ¸å¿ƒæ¦‚å¿µ

```mermaid
graph LR
    A[ä¼ ç»Ÿæç¤ºè¯] --> B["girl, blue hair, red eyes"]
    A --> C[æè¿°å¤æ‚<br/>ä¸å¤Ÿç²¾ç¡®]

    D[Textual Inversion] --> E["<my-character>"]
    E --> F[ä¸€ä¸ªè¯ä»£è¡¨<br/>æ‰€æœ‰ç‰¹å¾]

    style E fill:#5cb85c
    style C fill:#ff6b6b
```

**ç®€å•ç†è§£ï¼š**
- æ™®é€šæç¤ºè¯ï¼šç”¨å¤šä¸ªè¯æè¿° â†’ `girl, long white hair, red eyes, maid outfit` ğŸ“
- Embeddingï¼šè®­ç»ƒä¸€ä¸ªç‰¹æ®Šè¯ â†’ `<sakura>` å°±ä»£è¡¨æ‰€æœ‰ç‰¹å¾ âœ¨
- ä½¿ç”¨æ—¶ï¼šç›´æ¥è¾“å…¥ `<sakura>` å³å¯å¬å”¤å®Œæ•´æ¦‚å¿µ ğŸ¯

---

## ğŸ”¬ å·¥ä½œåŸç†

### Textual Inversion vs LoRA

```mermaid
graph TB
    subgraph "Textual Inversion"
        A1[è®­ç»ƒæ–°è¯æ±‡] --> B1[ä¿®æ”¹ CLIP<br/>æ–‡æœ¬ç¼–ç å™¨]
        B1 --> C1[æ–‡ä»¶æå°<br/>10-100KB]
    end

    subgraph "LoRA"
        A2[è®­ç»ƒæ¨¡å‹è°ƒæ•´] --> B2[ä¿®æ”¹ UNet<br/>å›¾åƒç”Ÿæˆå™¨]
        B2 --> C2[æ–‡ä»¶è¾ƒå¤§<br/>10-200MB]
    end

    D[å¯¹æ¯”] --> E["Embedding:<br/>å‘Šè¯‰AI 'è¿™ä¸ªè¯ä»€ä¹ˆæ„æ€'"]
    D --> F["LoRA:<br/>å‘Šè¯‰AI 'æ€ä¹ˆç”»'"]

    style C1 fill:#4ecdc4
    style E fill:#5cb85c
```

### æŠ€æœ¯ç»†èŠ‚

```java
// Textual Inversion åŸç†
ç›®æ ‡: ä¸ºæ–°æ¦‚å¿µåˆ›å»º Token Embedding

è®­ç»ƒè¿‡ç¨‹:
  1. å‡†å¤‡ 3-20 å¼ å›¾ç‰‡ï¼ˆç‰¹å®šæ¦‚å¿µï¼‰
  2. åˆå§‹åŒ–ä¸€ä¸ªæ–° Tokenï¼ˆå¦‚ <my-char>ï¼‰
  3. è®­ç»ƒè¿™ä¸ª Token çš„ Embedding å‘é‡
  4. è®©å®ƒèƒ½è¡¨ç¤ºå›¾ç‰‡ä¸­çš„å…±åŒç‰¹å¾

ä½¿ç”¨æ—¶:
  è¾“å…¥: <my-char>, anime style, outdoor
  CLIP: è¯†åˆ« <my-char> â†’ åŠ è½½è®­ç»ƒçš„ Embedding
  SD: ç”Ÿæˆç¬¦åˆ Embedding çš„å›¾åƒ

æ–‡ä»¶æ ¼å¼:
  .pt (PyTorch) æˆ– .safetensors
  å¤§å°: é€šå¸¸ 5-20KB
  ä½ç½®: stable-diffusion-webui/embeddings/
```

---

## ğŸ“Š Embedding çš„ç±»å‹

### æŒ‰ç”¨é€”åˆ†ç±»

```mermaid
mindmap
  root((Embedding<br/>ç±»å‹))
    äººç‰©è§’è‰²
      åŠ¨æ¼«è§’è‰²
      æ¸¸æˆäººç‰©
      åŸåˆ›è§’è‰²
      æ˜æ˜Ÿäººç‰©
    è‰ºæœ¯é£æ ¼
      ç”»å®¶é£æ ¼
      è‰ºæœ¯æµæ´¾
      ç‰¹å®šç”»é£
    è´Ÿé¢åµŒå…¥
      EasyNegative
      BadDream
      è´¨é‡æ§åˆ¶
    ç‰©ä½“/æ¦‚å¿µ
      æœè£…
      é“å…·
      åœºæ™¯å…ƒç´ 
```

### å¸¸ç”¨ Embedding æ¨è

```java
// 1. è´Ÿé¢ Embeddingï¼ˆè´¨é‡æ§åˆ¶ï¼‰â­ æ¨è
EasyNegative:
  ç”¨é€”: å‡å°‘å¸¸è§ç¼ºé™·
  ç”¨æ³•: æ”¾åœ¨ Negative Prompt
  æ•ˆæœ: å‡å°‘å¤šä½™æ‰‹æŒ‡ã€ç•¸å½¢ç­‰

BadDream / UnrealisticDream:
  ç”¨é€”: æ”¹å–„å†™å®åº¦
  ç”¨æ³•: Negative Prompt
  æ•ˆæœ: å‡å°‘ä¸çœŸå®å…ƒç´ 

badhandv4:
  ç”¨é€”: ä¿®å¤æ‰‹éƒ¨é—®é¢˜
  ç”¨æ³•: Negative Prompt
  æ•ˆæœ: å‡å°‘æ‰‹éƒ¨ç•¸å½¢

// 2. é£æ ¼ Embedding
å„ç§è‰ºæœ¯å®¶é£æ ¼:
  <greg-rutkowski>
  <studio-ghibli-style>
  <makoto-shinkai>

// 3. è§’è‰² Embedding
è‡ªè®­ç»ƒæˆ–ç¤¾åŒºåˆ†äº«çš„è§’è‰²
ç”¨æ³•: ç›´æ¥åœ¨ Positive Prompt ä½¿ç”¨
```

---

## ğŸ¨ ä½¿ç”¨æ–¹æ³•

### åŸºç¡€ä½¿ç”¨

```java
// æ­¥éª¤1: ä¸‹è½½æˆ–è®­ç»ƒ Embedding
ä¸‹è½½: Civitaiã€Hugging Face
ä¿å­˜åˆ°: stable-diffusion-webui/embeddings/
æ ¼å¼: .pt æˆ– .safetensors

// æ­¥éª¤2: åœ¨æç¤ºè¯ä¸­ä½¿ç”¨
Positive Prompt:
  <character-name>, anime style, outdoor, smiling

Negative Prompt:
  <EasyNegative>, <badhandv4>, low quality

// æ­¥éª¤3: è°ƒæ•´æƒé‡ï¼ˆå¯é€‰ï¼‰
<character-name:1.2>  // å¢å¼ºæ•ˆæœ
<character-name:0.8>  // å‡å¼±æ•ˆæœ
```

---

### å®æˆ˜æ¡ˆä¾‹

**æ¡ˆä¾‹1ï¼šè§’è‰²ä¸€è‡´æ€§ç”Ÿæˆ**

```java
// ç›®æ ‡: ç”ŸæˆåŒä¸€è§’è‰²çš„ä¸åŒå§¿åŠ¿å’Œåœºæ™¯
Embedding: <sakura-girl> (è‡ªè®­ç»ƒ)

æç¤ºè¯1 - å®¤å†…åœºæ™¯:
  <sakura-girl>, sitting at desk, reading book,
  cozy room, warm lighting, anime style

æç¤ºè¯2 - å®¤å¤–åœºæ™¯:
  <sakura-girl>, standing in park, cherry blossoms,
  spring, sunny day, anime style

æç¤ºè¯3 - ä¸åŒåŠ¨ä½œ:
  <sakura-girl>, running, dynamic pose,
  sports outfit, outdoor track

Negative:
  <EasyNegative>, <badhandv4>

ä¼˜åŠ¿:
  âœ… è§’è‰²ç‰¹å¾ä¸€è‡´ï¼ˆå‘è‰²ã€çœ¼ç›ã€è„¸å‹ï¼‰
  âœ… ä»…ä¸€ä¸ªè¯å³å¯å¬å”¤
  âœ… çµæ´»æ­é…å…¶ä»–æç¤ºè¯
```

---

**æ¡ˆä¾‹2ï¼šè´Ÿé¢ Embedding è´¨é‡æ§åˆ¶**

```java
// ä¸ä½¿ç”¨è´Ÿé¢ Embedding
Negative Prompt:
  low quality, worst quality, bad anatomy,
  bad hands, missing fingers, extra digit,
  fewer digits, cropped, jpeg artifacts

é—®é¢˜: æç¤ºè¯è¿‡é•¿ï¼Œæ•ˆæœä¸€èˆ¬

// ä½¿ç”¨è´Ÿé¢ Embedding
Negative Prompt:
  <EasyNegative>, <badhandv4>

ä¼˜åŠ¿:
  âœ… æç¤ºè¯ç®€æ´
  âœ… æ•ˆæœç»è¿‡ä¼˜åŒ–
  âœ… åŒ…å«å¤§é‡è´¨é‡æ§åˆ¶è§„åˆ™
  âœ… ç¤¾åŒºéªŒè¯æœ‰æ•ˆ
```

---

**æ¡ˆä¾‹3ï¼šè‰ºæœ¯é£æ ¼åº”ç”¨**

```java
// ä½¿ç”¨ç”»å®¶é£æ ¼ Embedding
Prompt:
  beautiful landscape, mountains and lake,
  <greg-rutkowski>, <studio-ghibli-style>,
  detailed, high quality

å‚æ•°:
  CFG: 7
  Steps: 30

æ•ˆæœ:
  - ç»“åˆä¸¤ç§è‰ºæœ¯é£æ ¼
  - æ¯”çº¯æç¤ºè¯æ›´å‡†ç¡®
  - é£æ ¼ç‰¹å¾æ›´æ˜æ˜¾
```

---

## ğŸ› ï¸ è®­ç»ƒè‡ªå·±çš„ Embedding

### è®­ç»ƒæµç¨‹

```mermaid
sequenceDiagram
    participant D as æ•°æ®å‡†å¤‡
    participant T as è®­ç»ƒå·¥å…·
    participant M as è®­ç»ƒè¿‡ç¨‹
    participant R as ç»“æœ

    D->>D: æ”¶é›† 5-20 å¼ å›¾ç‰‡
    D->>D: ç»Ÿä¸€åˆ†è¾¨ç‡ 512Ã—512
    D->>T: ä¸Šä¼ å›¾ç‰‡
    T->>M: è®¾ç½®è®­ç»ƒå‚æ•°
    Note over M: 1000-5000 æ­¥<br/>å­¦ä¹ ç‡ 0.005
    M->>M: è¿­ä»£è®­ç»ƒ
    M->>R: ç”Ÿæˆ .pt æ–‡ä»¶
    R->>R: æµ‹è¯•æ•ˆæœ
```

### æ•°æ®å‡†å¤‡

```java
// å›¾ç‰‡è¦æ±‚
æ•°é‡: 5-20 å¼ ï¼ˆæ¨è 10-15 å¼ ï¼‰
è´¨é‡: é«˜æ¸…ã€æ— æ°´å°
å†…å®¹:
  âœ… åŒ…å«ç›®æ ‡æ¦‚å¿µçš„ä¸åŒè§’åº¦
  âœ… ä¸åŒè¡¨æƒ…/å§¿åŠ¿ï¼ˆè§’è‰²ï¼‰
  âœ… ä¸åŒåœºæ™¯ä¸‹çš„è¯¥æ¦‚å¿µ
  âŒ é¿å…èƒŒæ™¯è¿‡äºå¤æ‚
  âŒ é¿å…å¤šä¸ªä¸»ä½“æ··æ·†

åˆ†è¾¨ç‡: ç»Ÿä¸€ä¸º 512Ã—512
  (å¯ç”¨è£å‰ªå·¥å…·æ‰¹é‡å¤„ç†)

ç¤ºä¾‹ - è®­ç»ƒè§’è‰²:
  - æ­£é¢ç…§ç‰‡ Ã—3
  - ä¾§é¢ç…§ç‰‡ Ã—2
  - 3/4 è§’åº¦ Ã—3
  - ä¸åŒè¡¨æƒ… Ã—3
  - å…¨èº«/åŠèº«æ··åˆ
```

---

### è®­ç»ƒå‚æ•°é…ç½®

```java
// WebUI è®­ç»ƒ Embedding
å¯¼èˆª: Train â†’ Create Embedding

å‚æ•°è®¾ç½®:
  Name: my-character  // Embedding åç§°
  Initialization text: girl  // åˆå§‹åŒ–è¯ï¼ˆç›¸å…³è¯ï¼‰
  Number of vectors: 4-8  // å‘é‡æ•°ï¼ˆå¤æ‚åº¦ï¼‰
    - ç®€å•æ¦‚å¿µ: 4
    - å¤æ‚è§’è‰²: 8-16

Training Settings:
  Learning rate: 0.005  // å­¦ä¹ ç‡ï¼ˆå…³é”®ï¼‰
    - å¤ªé«˜: 0.01+ è¿‡æ‹Ÿåˆ
    - å¤ªä½: 0.001 è®­ç»ƒæ…¢
    - æ¨è: 0.005

  Batch size: 1  // æ‰¹æ¬¡å¤§å°
  Steps: 3000-5000  // è®­ç»ƒæ­¥æ•°
    - 5å¼ å›¾: 3000 æ­¥
    - 10å¼ å›¾: 4000 æ­¥
    - 20å¼ å›¾: 5000 æ­¥

  Gradient clipping: 1.0  // æ¢¯åº¦è£å‰ª
  Save embedding every N steps: 500  // ä¿å­˜é¢‘ç‡
```

---

### è®­ç»ƒæŠ€å·§

```java
// 1. ç›‘æ§è®­ç»ƒè¿›åº¦
æ¯ 500 æ­¥æµ‹è¯•ä¸€æ¬¡:
  - ä½¿ç”¨å›ºå®š Seed
  - ç›¸åŒæç¤ºè¯
  - è§‚å¯Ÿå˜åŒ–

è¿‡æ‹Ÿåˆè¿¹è±¡:
  âŒ åªèƒ½ç”Ÿæˆè®­ç»ƒå›¾
  âŒ ç¼ºå°‘åˆ›ä½œç©ºé—´
  âŒ æ— æ³•æ­é…å…¶ä»–æç¤ºè¯

è§£å†³: å‡å°‘è®­ç»ƒæ­¥æ•°

// 2. æœ€ä½³åœæ­¢ç‚¹
æµ‹è¯•ä¸åŒæ­¥æ•°çš„ä¿å­˜ç‚¹:
  - embedding-1000.pt
  - embedding-2000.pt
  - embedding-3000.pt

é€‰æ‹©æ•ˆæœæœ€å¥½çš„ç‰ˆæœ¬

// 3. å¤šæ¦‚å¿µè®­ç»ƒ
å¯åŒæ—¶è®­ç»ƒå¤šä¸ª Embedding:
  <char1> - è§’è‰²1
  <char2> - è§’è‰²2
  <style1> - é£æ ¼1

ç‹¬ç«‹è®­ç»ƒï¼Œç‹¬ç«‹ä½¿ç”¨
```

---

## ğŸ¯ Embedding vs LoRA é€‰æ‹©

### å¯¹æ¯”åˆ†æ

| ç‰¹æ€§ | Embedding | LoRA |
|------|-----------|------|
| **æ–‡ä»¶å¤§å°** | 5-100KB | 10-200MB |
| **è®­ç»ƒæ•°æ®** | 5-20 å¼  | 20-100+ å¼  |
| **è®­ç»ƒæ—¶é—´** | 30åˆ†é’Ÿ-2å°æ—¶ | 2-8 å°æ—¶ |
| **æ§åˆ¶èŒƒå›´** | æ–‡æœ¬ç†è§£ | å›¾åƒç”Ÿæˆ |
| **é€‚ç”¨åœºæ™¯** | ç‰¹å®šè¯æ±‡/æ¦‚å¿µ | ç”»é£/å¤æ‚é£æ ¼ |
| **æƒé‡æ§åˆ¶** | 0.8-1.2 | 0.3-1.5 |
| **å…¼å®¹æ€§** | æå¥½ | å¥½ |
| **æ˜¾å­˜éœ€æ±‚** | æä½ | ä½ |

---

### é€‰æ‹©å»ºè®®

```mermaid
graph TD
    A[éœ€è¦è‡ªå®šä¹‰] --> B{ç›®æ ‡æ˜¯ä»€ä¹ˆ?}

    B -->|ç‰¹å®šè¯æ±‡/æ¦‚å¿µ| C[Textual Inversion]
    B -->|ç”»é£/å¤æ‚é£æ ¼| D[LoRA]

    C --> E[é€‚åˆ:]
    E --> F[- ç‰¹å®šè§’è‰²<br/>- è´Ÿé¢æ§åˆ¶<br/>- ç®€å•æ¦‚å¿µ]

    D --> G[é€‚åˆ:]
    G --> H[- è‰ºæœ¯é£æ ¼<br/>- ç”»é£è¿ç§»<br/>- å¤æ‚æ•ˆæœ]

    style C fill:#4ecdc4
    style D fill:#f7b731
```

---

### å®æˆ˜é€‰æ‹©

```java
// ä½¿ç”¨ Embedding çš„åœºæ™¯
âœ… åˆ›å»ºç®€å•è§’è‰²ä»£è¡¨è¯
âœ… å®šä¹‰è´Ÿé¢è´¨é‡æ§åˆ¶
âœ… å°‘é‡å›¾ç‰‡ï¼ˆ<20å¼ ï¼‰
âœ… è®­ç»ƒæ—¶é—´æœ‰é™
âœ… æ–‡ä»¶å¤§å°æ•æ„Ÿ

ç¤ºä¾‹:
  è®­ç»ƒè‡ªå·±çš„ OC è§’è‰²
  è®­ç»ƒç‰¹å®šæœè£…æ¦‚å¿µ
  è®­ç»ƒè´Ÿé¢è´¨é‡æ§åˆ¶è¯

// ä½¿ç”¨ LoRA çš„åœºæ™¯
âœ… å¤æ‚ç”»é£è¿ç§»
âœ… è‰ºæœ¯å®¶é£æ ¼å­¦ä¹ 
âœ… å¤§é‡è®­ç»ƒæ•°æ®ï¼ˆ50+å¼ ï¼‰
âœ… éœ€è¦æ›´å¼ºæ§åˆ¶åŠ›

ç¤ºä¾‹:
  å‰åœåŠ›é£æ ¼ LoRA
  ç‰¹å®šç”»å¸ˆé£æ ¼ LoRA
  å¤æ‚æœºç”²è®¾è®¡ LoRA

// ç»„åˆä½¿ç”¨
Prompt:
  <my-character>, <lora:ghibli-style:0.8>,
  outdoor, forest, soft lighting

æ•ˆæœ: Embedding å®šä¹‰è§’è‰² + LoRA æä¾›é£æ ¼
```

---

## ğŸ’¡ é«˜çº§æŠ€å·§

### 1. å¤š Embedding å åŠ 

```java
// ç»„åˆä½¿ç”¨å¤šä¸ª Embedding
Positive:
  <character-A>, <artist-style-1>,
  <concept-B>, detailed, high quality

Negative:
  <EasyNegative>, <badhandv4>, <badquality>

æ³¨æ„:
  - æ­£é¢ä¸è¶…è¿‡ 3-4 ä¸ª
  - è´Ÿé¢å¯ä»¥å¤šä¸ªå åŠ 
  - è§‚å¯Ÿæ˜¯å¦å†²çª
```

---

### 2. Embedding æƒé‡è°ƒèŠ‚

```java
// è¯­æ³•: <name:weight>
<character:1.2>    // å¢å¼º 20%
<character:0.8>    // å‡å¼± 20%
<character:1.5>    // å¢å¼º 50%ï¼ˆå¯èƒ½è¿‡åº¦ï¼‰

å®æˆ˜:
  <sakura:1.1>, <style:0.9>
  â†’ è§’è‰²ç‰¹å¾æ›´æ˜æ˜¾ï¼Œé£æ ¼ç¨å‡å¼±

è°ƒè¯•å»ºè®®:
  ä» 1.0 å¼€å§‹
  ä»¥ 0.1 ä¸ºæ­¥é•¿è°ƒæ•´
  æ‰¾åˆ°æœ€ä½³æƒé‡
```

---

### 3. æ¸è¿›è®­ç»ƒ

```java
// ç­–ç•¥: åˆ†é˜¶æ®µè®­ç»ƒ
é˜¶æ®µ1 - ç²—è®­ç»ƒ:
  Steps: 2000
  Learning rate: 0.005
  ç›®æ ‡: å­¦ä¹ åŸºæœ¬ç‰¹å¾

é˜¶æ®µ2 - ç»†è°ƒ:
  ç»§ç»­è®­ç»ƒç›¸åŒ Embedding
  Steps: +1000
  Learning rate: 0.002 (é™ä½)
  ç›®æ ‡: ä¼˜åŒ–ç»†èŠ‚

ä¼˜åŠ¿:
  - é¿å…ä¸€æ¬¡æ€§è¿‡æ‹Ÿåˆ
  - å¯éšæ—¶åœæ­¢
  - æ›´çµæ´»æ§åˆ¶
```

---

### 4. è´Ÿé¢ Embedding ç»„åˆç­–ç•¥

```java
// é€šç”¨è´¨é‡æ§åˆ¶ï¼ˆæ¨èç»„åˆï¼‰
Negative Prompt:
  <EasyNegative>, <badhandv4>,
  low quality, worst quality

// å†™å®æ‘„å½±ä¸“ç”¨
Negative Prompt:
  <EasyNegative>, <badhandv4>,
  <UnrealisticDream>, <BadDream>,
  illustration, 3d render

// åŠ¨æ¼«æ’ç”»ä¸“ç”¨
Negative Prompt:
  <EasyNegative>, <badhandv4>,
  realistic, photo, 3d

æ•ˆæœ: æ ¹æ®åœºæ™¯ä¼˜åŒ–ç»„åˆ
```

---

## âš ï¸ å¸¸è§é—®é¢˜

### é—®é¢˜è¯Šæ–­è¡¨

| é—®é¢˜ | å¯èƒ½åŸå›  | è§£å†³æ–¹æ¡ˆ |
|------|----------|----------|
| **Embedding ä¸èµ·ä½œç”¨** | æœªåŠ è½½æˆ–è·¯å¾„é”™è¯¯ | æ£€æŸ¥ embeddings ç›®å½• |
| **æ•ˆæœå¤ªå¼±** | æƒé‡å¤ªä½ | æé«˜æƒé‡ `<name:1.2>` |
| **å®Œå…¨å¤åˆ¶è®­ç»ƒå›¾** | è¿‡æ‹Ÿåˆ | å‡å°‘è®­ç»ƒæ­¥æ•° |
| **æ— æ³•æ­é…å…¶ä»–è¯** | è®­ç»ƒæ•°æ®å•ä¸€ | å¢åŠ å¤šæ ·æ€§å›¾ç‰‡ |
| **æ–‡ä»¶æŸå** | è®­ç»ƒä¸­æ–­ | ä½¿ç”¨ä¸­é—´ä¿å­˜ç‚¹ |
| **å†²çª** | å¤š Embedding å†²çª | å‡å°‘æ•°é‡æˆ–è°ƒæ•´æƒé‡ |

---

### è°ƒè¯•æµç¨‹

```mermaid
graph TD
    A[Embedding æ•ˆæœä¸ä½³] --> B{ç±»å‹?}

    B -->|è§’è‰²/æ¦‚å¿µ| C{æ˜¯å¦è¿‡æ‹Ÿåˆ?}
    B -->|è´Ÿé¢è´¨é‡æ§åˆ¶| D{æ˜¯å¦æ­£ç¡®æ”¾åœ¨ Negative?}

    C -->|æ˜¯| E[ä½¿ç”¨æ›´æ—©çš„ checkpoint<br/>å‡å°‘è®­ç»ƒæ­¥æ•°]
    C -->|å¦| F{æƒé‡æ˜¯å¦åˆé€‚?}

    F -->|å¤ªå¼±| G[æé«˜æƒé‡ 1.0â†’1.2]
    F -->|åˆé€‚| H[æ£€æŸ¥è®­ç»ƒæ•°æ®è´¨é‡]

    D -->|æ˜¯| I[å°è¯•å…¶ä»–è´Ÿé¢ Embedding]
    D -->|å¦| J[ç§»åˆ° Negative Prompt]

    style I fill:#5cb85c
```

---

## ğŸ“š èµ„æºä¸å·¥å…·

### Embedding ä¸‹è½½ç«™

```java
// 1. Civitai (https://civitai.com)
åˆ†ç±»: Textual Inversion
åŒ…å«: è§’è‰²ã€é£æ ¼ã€è´Ÿé¢ç­‰
è¯„åˆ†: ç”¨æˆ·è¯„åˆ†å‚è€ƒ

// 2. Hugging Face
å®˜æ–¹ Textual Inversion åº“
ç¨³å®šå¯é 

// 3. LiblibAI (å›½å†…)
ä¸­æ–‡ç¤¾åŒº
è®¿é—®å‹å¥½
```

---

### è®­ç»ƒå·¥å…·

```java
// WebUI å†…ç½®
Train â†’ Create Embedding
Train â†’ Train
ç®€å•ç›´è§‚ï¼Œé€‚åˆæ–°æ‰‹

// Standalone å·¥å…·
Textual Inversion Training Script (å®˜æ–¹)
æ›´å¤šè‡ªå®šä¹‰é€‰é¡¹

// è¾…åŠ©å·¥å…·
å›¾ç‰‡é¢„å¤„ç†: Birme (æ‰¹é‡è£å‰ªè°ƒæ•´)
æ ‡ç­¾ç”Ÿæˆ: BLIPã€DeepDanbooru (è‡ªåŠ¨æ ‡æ³¨)
```

---

## ğŸ¯ æœ€ä½³å®è·µ

### æ–°æ‰‹æ¨èæµç¨‹

```java
// ç¬¬1æ­¥: ä½¿ç”¨ç°æˆçš„è´Ÿé¢ Embedding
ä¸‹è½½: EasyNegative, badhandv4
æ”¾ç½®: embeddings/
ä½¿ç”¨: Negative Prompt ä¸­ç›´æ¥æ·»åŠ 

// ç¬¬2æ­¥: å°è¯•ç¤¾åŒº Embedding
æµè§ˆ Civitai ä¸‹è½½æ„Ÿå…´è¶£çš„ Embedding
æµ‹è¯•æ•ˆæœ

// ç¬¬3æ­¥: è®­ç»ƒè‡ªå·±çš„ Embeddingï¼ˆå¯é€‰ï¼‰
å‡†å¤‡: 10 å¼ å·¦å³å›¾ç‰‡
è®­ç»ƒ: 3000-4000 æ­¥
æµ‹è¯•: ä¸åŒæƒé‡å’Œç»„åˆ

// ç¬¬4æ­¥: å»ºç«‹ä¸ªäºº Embedding åº“
æ•´ç†åˆ†ç±»å¸¸ç”¨ Embedding
è®°å½•æƒé‡é…ç½®
```

---

### Embedding ä½¿ç”¨å£è¯€

```
è´Ÿé¢ Embedding å¿…é¡»ç”¨
æ”¾åœ¨ Negative å¾ˆé‡è¦
è§’è‰² Embedding ä¸€ä¸ªè¯
é£æ ¼å åŠ çœ‹æ•ˆæœ

æƒé‡è°ƒèŠ‚ä» 1.0 èµ·
æ•ˆæœä¸å¤Ÿå¾€ä¸Šæ
è¿‡æ‹Ÿåˆäº†å¾€ä¸‹é™
æ‰¾åˆ°å¹³è¡¡æœ€é‡è¦
```

---

## ğŸ”— ç›¸å…³æ–‡ç« 

- [CLIP è¯¦è§£](./03-CLIPè¯¦è§£-æ–‡æœ¬ç†è§£çš„æ ¸å¿ƒ.md) - Embedding ä¿®æ”¹çš„å°±æ˜¯ CLIP
- [LoRA è¯¦è§£](./08-LoRAè¯¦è§£-é£æ ¼è¿ç§»çš„åˆ©å™¨.md) - Embedding vs LoRA
- [Checkpoint è¯¦è§£](./01-Checkpointè¯¦è§£-SDçš„æ ¸å¿ƒæ¨¡å‹.md) - æ¨¡å‹æ¶æ„ç†è§£

---

## ğŸ“ æ€»ç»“

**Textual Inversion æ ¸å¿ƒä»·å€¼ï¼š**

1. **è½»é‡çµæ´»**: æ–‡ä»¶æå°ï¼ˆKBçº§ï¼‰ï¼Œæ˜“äºåˆ†äº«
2. **æ¦‚å¿µå®šä¹‰**: ç”¨ä¸€ä¸ªè¯ä»£è¡¨å¤æ‚æ¦‚å¿µ
3. **è´¨é‡æ§åˆ¶**: è´Ÿé¢ Embedding æ˜¯è´¨é‡ä¿è¯
4. **ç®€å•æ˜“ç”¨**: ç›´æ¥åœ¨æç¤ºè¯ä¸­ä½¿ç”¨
5. **äº’è¡¥ LoRA**: ç»„åˆä½¿ç”¨å¨åŠ›æ›´å¤§

**å®ç”¨å»ºè®®ï¼š**
```java
// åŸºç¡€é…ç½®
Negative Prompt: <EasyNegative>, <badhandv4>
// è¿™æ˜¯æœ€åŸºç¡€ä½†æœ€æœ‰æ•ˆçš„è´¨é‡æå‡

// è¿›é˜¶åˆ›ä½œ
è‡ªå·±è®­ç»ƒè§’è‰² Embedding
+ LoRA æä¾›é£æ ¼
= å®Œå…¨è‡ªå®šä¹‰çš„åˆ›ä½œä½“ç³»
```

---

**Embedding è™½å°ï¼Œä½œç”¨å·¨å¤§ï¼** âœ¨

ä¸€ä¸ªå°å°çš„æ–‡ä»¶ï¼Œè®©ä½ çš„æç¤ºè¯æ›´ç®€æ´ã€è´¨é‡æ›´ç¨³å®šã€åˆ›ä½œæ›´é«˜æ•ˆï¼ç‰¹åˆ«æ˜¯è´Ÿé¢ Embeddingï¼Œå ªç§°"æ–°æ‰‹å‹å¥½ç¥å™¨"ï¼
