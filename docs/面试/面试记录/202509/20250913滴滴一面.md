---
title: 滴滴（配送引擎）一面
date: 2025-09-15
permalink: /interview/didi-delivery-engine-01.html
tags:
  - 面试
categories:
  - 面试
---

## 岗位信息

滴滴-高级软件开发工程师（配送引擎Go） （J250724013） 一面

面试时间：2025-09-13 周六 下午 2 点

## 面试问题

### 自我介绍

### 挑一个最近的或者比较熟的项目介绍一下

资金调度的业务介绍，主要是资金下拨的业务流，详细解释其中的难点和遇到过的问题，主要是长事务超时问题、分布式事务问题。

事务大部分来说应该都是会一次性成功的。然后对于那种异常的那种情况，你们如何去做感知以及监控，或者是说这种异常数据如何去做对账，如何去恢复，这块怎么去处理呢？

对 YTS 进行介绍，本地事务表，一些关键信息：全局事务 id、本地事务 id、上下游调用链、事务状态、重试次数、重试间隔、上下文。

事务回滚通过调度任务和本地事务表来做，调度任务会定时扫描本地事务表，然后根据事务状态来做回滚。

### 分布式事务失败回滚，这种实际发生过的回滚比例大概是多少

事务拆分 + 补偿策略

### 大事务拆分后，事务之间如何做级联

如果大事务拆分的话，事物之间如何去做级联呢？事物之间做积累，或者说事物之间还会有一些依赖关系吗？因为我理解你大事物就是一个整体，如果你把一个整体拆成各个子，就是子子那个子事务的话，子事务之间会有关联吗？以及子事务之间是否要有一些回滚的一些依赖关系。

那如果中间状态又出又触发了这种异常，然后需要回滚的话，那这个是怎么设计的呢？


### 分布式事务数据一致性如何建设的

档案一致性检查，冗余字段

疑重校验

### 冗余字段的界定

如何去界定那些字段需要去做额外的冗余呢？它的一个评估标准是什么？

### 冗余的信息如何做同步更新呢

快照的方式，不做同步更新。

如果最终校验的时候不一致，则不进行支付

如果一定要修改，就是废弃掉单子，重新做单子

### 代码题：3 个降序数组，如何合并成一个降序数组

利用有序性来遍历

第一个是堆排序 

第二个是3 个标记位置的索引，每次取最大的那个，然后放到结果数组中，然后索引+1，继续取最大的那个，直到所有的数组都取完。

###  HashMap

底层结构

线程不安全的表现有哪些

和 ConcurrentHashMap 有什么区别，ConcurrentHashMap的线程安全如何保证的

### CAS和 synchronized 

CAS和 synchronized 的区别

锁升级的过程

### Spring 框架

Bean 如何去管理的，Bean 的初始化的过程，循环依赖

### Redis

除了分布式锁，哪些场景还会用 Redis

缓存一致性的问题

最终一致性的

缓存穿透的问题



