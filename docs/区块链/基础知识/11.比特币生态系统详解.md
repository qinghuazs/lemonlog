---
title: æ¯”ç‰¹å¸ç”Ÿæ€ç³»ç»Ÿè¯¦è§£
date: 2025-09-30
permalink: /blockchain/bitcoin-ecosystem.html
tags:
  - åŒºå—é“¾
  - æ¯”ç‰¹å¸
  - ç”Ÿæ€ç³»ç»Ÿ
categories:
  - åŒºå—é“¾
---

# æ¯”ç‰¹å¸ç”Ÿæ€ç³»ç»Ÿè¯¦è§£

## ç”Ÿæ€ç³»ç»Ÿæ¦‚è§ˆ

æ¯”ç‰¹å¸ç”Ÿæ€ç³»ç»Ÿæ˜¯ä¸€ä¸ªå¤æ‚çš„åˆ†å¸ƒå¼ç½‘ç»œï¼Œç”±å¤šä¸ªè§’è‰²å’Œç»„ä»¶ååŒå·¥ä½œã€‚

```mermaid
mindmap
  root((æ¯”ç‰¹å¸ç”Ÿæ€ç³»ç»Ÿ))
    ç½‘ç»œå‚ä¸è€…
      çŸ¿å·¥
      å…¨èŠ‚ç‚¹
      è½»èŠ‚ç‚¹
      ç”¨æˆ·
    åŸºç¡€è®¾æ–½
      çŸ¿æ± 
      äº¤æ˜“æ‰€
      é’±åŒ…æœåŠ¡
      æ”¯ä»˜å¤„ç†å•†
    å¼€å‘ç”Ÿæ€
      Coreå¼€å‘è€…
      åº”ç”¨å¼€å‘è€…
      ç ”ç©¶æœºæ„
    æœåŠ¡æä¾›å•†
      åŒºå—æµè§ˆå™¨
      æ•°æ®åˆ†æ
      OTCå¹³å°
```

## ç½‘ç»œå‚ä¸è€…

### 1. çŸ¿å·¥ï¼ˆMinersï¼‰

çŸ¿å·¥æ˜¯æ¯”ç‰¹å¸ç½‘ç»œçš„å®‰å…¨å®ˆæŠ¤è€…ï¼Œé€šè¿‡è®¡ç®—å·¥ä½œé‡è¯æ˜æ¥æ‰“åŒ…äº¤æ˜“å¹¶è·å¾—å¥–åŠ±ã€‚

```java
public class Miner {
    private String minerId;
    private double hashRate;  // TH/s
    private String miningPool;

    // çŸ¿å·¥çš„èŒè´£
    public class MinerResponsibilities {

        // 1. æ”¶é›†äº¤æ˜“
        public List<Transaction> selectTransactions() {
            // ä»å†…å­˜æ± é€‰æ‹©äº¤æ˜“
            List<Transaction> mempool = getMempool();

            // æŒ‰è´¹ç‡æ’åº
            mempool.sort((a, b) ->
                Double.compare(b.getFeeRate(), a.getFeeRate())
            );

            // é€‰æ‹©é«˜è´¹ç‡äº¤æ˜“ï¼Œå¡«æ»¡åŒºå—
            List<Transaction> selected = new ArrayList<>();
            int blockSize = 0;

            for (Transaction tx : mempool) {
                if (blockSize + tx.getSize() > MAX_BLOCK_SIZE) {
                    break;
                }
                selected.add(tx);
                blockSize += tx.getSize();
            }

            return selected;
        }

        // 2. æ„å»ºåŒºå—
        public Block buildBlock(List<Transaction> transactions) {
            Block block = new Block();

            // æ·»åŠ  Coinbase äº¤æ˜“
            Transaction coinbase = createCoinbase(
                minerAddress,
                getBlockReward() + calculateTotalFees(transactions)
            );
            block.addTransaction(coinbase);

            // æ·»åŠ å…¶ä»–äº¤æ˜“
            for (Transaction tx : transactions) {
                block.addTransaction(tx);
            }

            // è®¾ç½®åŒºå—å¤´
            block.setPreviousHash(getLastBlockHash());
            block.setTimestamp(System.currentTimeMillis());
            block.setDifficulty(getCurrentDifficulty());

            return block;
        }

        // 3. æŒ–çŸ¿ï¼ˆå¯»æ‰¾æœ‰æ•ˆnonceï¼‰
        public boolean mineBlock(Block block) {
            String target = getDifficultyTarget();

            while (true) {
                // å¢åŠ  nonce
                block.setNonce(block.getNonce() + 1);

                // è®¡ç®—åŒºå—å“ˆå¸Œ
                String hash = block.calculateHash();

                // æ£€æŸ¥æ˜¯å¦æ»¡è¶³éš¾åº¦è¦æ±‚
                if (hash.compareTo(target) < 0) {
                    block.setHash(hash);
                    System.out.println("æ‰¾åˆ°æœ‰æ•ˆåŒºå—ï¼");
                    System.out.println("Nonce: " + block.getNonce());
                    System.out.println("Hash: " + hash);
                    return true;
                }

                // æ¯éš”ä¸€æ®µæ—¶é—´æ›´æ–°æ—¶é—´æˆ³å’Œäº¤æ˜“
                if (block.getNonce() % 1_000_000 == 0) {
                    block.setTimestamp(System.currentTimeMillis());
                    updateTransactions(block);
                }
            }
        }

        // 4. å¹¿æ’­åŒºå—
        public void broadcastBlock(Block block) {
            // éªŒè¯åŒºå—
            if (!validateBlock(block)) {
                System.out.println("åŒºå—æ— æ•ˆï¼Œä¸å¹¿æ’­");
                return;
            }

            // å¹¿æ’­åˆ°ç½‘ç»œ
            for (Node peer : getPeers()) {
                peer.sendBlock(block);
            }

            System.out.println("åŒºå—å·²å¹¿æ’­åˆ°ç½‘ç»œ");
        }
    }

    // çŸ¿å·¥æ”¶ç›Šè®¡ç®—
    public class MinerEconomics {
        public void calculateProfitability() {
            // æ”¶å…¥
            double blockReward = 3.125;  // BTC
            double avgDailyBlocks = (hashRate / globalHashRate) * 144;
            double dailyRevenue = avgDailyBlocks * blockReward * btcPrice;

            // æˆæœ¬
            double powerCost = hashRate * 0.0325 * 24 * electricityRate;
            double poolFee = dailyRevenue * 0.02;  // 2% çŸ¿æ± è´¹
            double dailyCost = powerCost + poolFee;

            // åˆ©æ¶¦
            double dailyProfit = dailyRevenue - dailyCost;

            System.out.println("çŸ¿å·¥æ”¶ç›Šåˆ†æ:");
            System.out.println("ç®—åŠ›: " + hashRate + " TH/s");
            System.out.println("æ—¥äº§å‡º: " + dailyRevenue + " USD");
            System.out.println("æ—¥æˆæœ¬: " + dailyCost + " USD");
            System.out.println("æ—¥åˆ©æ¶¦: " + dailyProfit + " USD");
        }
    }
}
```

**çŸ¿å·¥ç±»å‹ï¼š**
| ç±»å‹ | è§„æ¨¡ | ç‰¹ç‚¹ | å æ¯” |
|------|------|------|------|
| **ç‹¬ç«‹çŸ¿å·¥** | å° | å®¶åº­æŒ–çŸ¿ï¼Œæ”¶ç›Šä¸ç¨³å®š | <5% |
| **çŸ¿æ± çŸ¿å·¥** | ä¸­ | åŠ å…¥çŸ¿æ± ï¼Œæ”¶ç›Šç¨³å®š | ~70% |
| **çŸ¿åœº** | å¤§ | ä¸“ä¸šåŒ–è¿è¥ï¼Œå¤§è§„æ¨¡ | ~25% |

### 2. å…¨èŠ‚ç‚¹ï¼ˆFull Nodesï¼‰

å…¨èŠ‚ç‚¹ç»´æŠ¤å®Œæ•´çš„åŒºå—é“¾å‰¯æœ¬ï¼ŒéªŒè¯æ‰€æœ‰äº¤æ˜“å’ŒåŒºå—ã€‚

```java
public class FullNode {
    private Blockchain blockchain;
    private Mempool mempool;
    private List<Peer> peers;

    // å…¨èŠ‚ç‚¹çš„èŒè´£
    public class FullNodeResponsibilities {

        // 1. éªŒè¯äº¤æ˜“
        public boolean validateTransaction(Transaction tx) {
            // æ ¼å¼æ£€æŸ¥
            if (!checkFormat(tx)) return false;

            // ç­¾åéªŒè¯
            if (!verifySignatures(tx)) return false;

            // UTXO æ£€æŸ¥
            if (!checkUTXO(tx)) return false;

            // åŒèŠ±æ£€æŸ¥
            if (isDoubleSpend(tx)) return false;

            // é‡‘é¢æ£€æŸ¥
            if (!validateAmounts(tx)) return false;

            return true;
        }

        // 2. éªŒè¯åŒºå—
        public boolean validateBlock(Block block) {
            // å·¥ä½œé‡è¯æ˜
            if (!verifyProofOfWork(block)) {
                System.out.println("PoW éªŒè¯å¤±è´¥");
                return false;
            }

            // åŒºå—å¤§å°
            if (block.getSize() > MAX_BLOCK_SIZE) {
                System.out.println("åŒºå—è¿‡å¤§");
                return false;
            }

            // éªŒè¯æ‰€æœ‰äº¤æ˜“
            for (Transaction tx : block.getTransactions()) {
                if (!validateTransaction(tx)) {
                    System.out.println("äº¤æ˜“éªŒè¯å¤±è´¥");
                    return false;
                }
            }

            // Coinbase æ£€æŸ¥
            if (!validateCoinbase(block)) {
                System.out.println("Coinbase æ— æ•ˆ");
                return false;
            }

            return true;
        }

        // 3. åŒæ­¥åŒºå—é“¾
        public void synchronizeBlockchain() {
            int localHeight = blockchain.getHeight();
            int networkHeight = getNetworkHeight();

            System.out.println("æœ¬åœ°é«˜åº¦: " + localHeight);
            System.out.println("ç½‘ç»œé«˜åº¦: " + networkHeight);

            if (networkHeight > localHeight) {
                System.out.println("å¼€å§‹åŒæ­¥ " +
                    (networkHeight - localHeight) + " ä¸ªåŒºå—");

                for (int i = localHeight + 1; i <= networkHeight; i++) {
                    Block block = downloadBlock(i);
                    if (validateBlock(block)) {
                        blockchain.addBlock(block);
                        System.out.println("åŒæ­¥è¿›åº¦: " + i + "/" +
                                         networkHeight);
                    }
                }
            }
        }

        // 4. ä¸­ç»§äº¤æ˜“å’ŒåŒºå—
        public void relayTransaction(Transaction tx) {
            // éªŒè¯äº¤æ˜“
            if (!validateTransaction(tx)) return;

            // æ·»åŠ åˆ°å†…å­˜æ± 
            mempool.add(tx);

            // è½¬å‘ç»™å…¶ä»–èŠ‚ç‚¹
            for (Peer peer : peers) {
                if (!peer.hasTransaction(tx.getTxId())) {
                    peer.sendTransaction(tx);
                }
            }
        }

        public void relayBlock(Block block) {
            // éªŒè¯åŒºå—
            if (!validateBlock(block)) return;

            // æ·»åŠ åˆ°åŒºå—é“¾
            blockchain.addBlock(block);

            // è½¬å‘ç»™å…¶ä»–èŠ‚ç‚¹
            for (Peer peer : peers) {
                if (!peer.hasBlock(block.getHash())) {
                    peer.sendBlock(block);
                }
            }
        }
    }

    // èŠ‚ç‚¹ç»Ÿè®¡
    public class NodeStatistics {
        public void printStatistics() {
            System.out.println("=== å…¨èŠ‚ç‚¹ç»Ÿè®¡ ===");
            System.out.println("åŒºå—é«˜åº¦: " + blockchain.getHeight());
            System.out.println("å†…å­˜æ± å¤§å°: " + mempool.size());
            System.out.println("è¿æ¥èŠ‚ç‚¹: " + peers.size());
            System.out.println("å­˜å‚¨ç©ºé—´: " + blockchain.getSize() / 1024 / 1024 / 1024 + " GB");
            System.out.println("å¸¦å®½ä½¿ç”¨: " + getBandwidthUsage() + " MB/day");
        }
    }
}
```

**å…¨èŠ‚ç‚¹ç±»å‹ï¼š**
- **å½’æ¡£èŠ‚ç‚¹ï¼ˆArchive Nodeï¼‰**ï¼šä¿å­˜å®Œæ•´å†å²æ•°æ®
- **ä¿®å‰ªèŠ‚ç‚¹ï¼ˆPruned Nodeï¼‰**ï¼šä»…ä¿å­˜æœ€è¿‘åŒºå—
- **ç›‘å¬èŠ‚ç‚¹ï¼ˆListening Nodeï¼‰**ï¼šæ¥å—å…¥ç«™è¿æ¥

### 3. è½»èŠ‚ç‚¹ï¼ˆLight Nodes / SPVï¼‰

è½»èŠ‚ç‚¹ä¸ä¿å­˜å®Œæ•´åŒºå—é“¾ï¼Œä½¿ç”¨ SPVï¼ˆç®€åŒ–æ”¯ä»˜éªŒè¯ï¼‰åè®®ã€‚

```java
public class SPVNode {
    private List<BlockHeader> headers;  // ä»…å­˜å‚¨åŒºå—å¤´
    private BloomFilter bloomFilter;     // å¸ƒéš†è¿‡æ»¤å™¨

    // SPV èŠ‚ç‚¹ç‰¹ç‚¹
    public class SPVFeatures {

        // 1. åŒæ­¥åŒºå—å¤´
        public void syncHeaders() {
            // ä»…ä¸‹è½½åŒºå—å¤´ï¼ˆ80å­—èŠ‚/åŒºå—ï¼‰
            int localHeight = headers.size();
            int networkHeight = getNetworkHeight();

            System.out.println("ä¸‹è½½ " +
                (networkHeight - localHeight) + " ä¸ªåŒºå—å¤´");

            for (int i = localHeight + 1; i <= networkHeight; i++) {
                BlockHeader header = downloadHeader(i);
                if (validateHeader(header)) {
                    headers.add(header);
                }
            }

            System.out.println("åŒºå—å¤´åŒæ­¥å®Œæˆ");
            System.out.println("å­˜å‚¨ç©ºé—´: " +
                headers.size() * 80 / 1024 / 1024 + " MB");
        }

        // 2. éªŒè¯äº¤æ˜“ï¼ˆä½¿ç”¨ Merkle è¯æ˜ï¼‰
        public boolean verifyTransaction(Transaction tx, MerkleProof proof) {
            // è®¡ç®—äº¤æ˜“å“ˆå¸Œ
            String txHash = tx.getTxId();

            // éªŒè¯ Merkle è·¯å¾„
            String computedRoot = proof.computeRoot(txHash);

            // è·å–åŒºå—å¤´ä¸­çš„ Merkle æ ¹
            BlockHeader header = headers.get(proof.getBlockHeight());
            String merkleRoot = header.getMerkleRoot();

            // å¯¹æ¯”
            if (computedRoot.equals(merkleRoot)) {
                System.out.println("äº¤æ˜“éªŒè¯æˆåŠŸ");
                return true;
            } else {
                System.out.println("äº¤æ˜“éªŒè¯å¤±è´¥");
                return false;
            }
        }

        // 3. ä½¿ç”¨å¸ƒéš†è¿‡æ»¤å™¨
        public void setupBloomFilter(List<String> addresses) {
            // åˆ›å»ºå¸ƒéš†è¿‡æ»¤å™¨
            bloomFilter = new BloomFilter(1000, 0.001);

            // æ·»åŠ å…³æ³¨çš„åœ°å€
            for (String address : addresses) {
                bloomFilter.add(address);
            }

            // å‘é€ç»™å…¨èŠ‚ç‚¹
            for (Peer peer : getPeers()) {
                peer.sendBloomFilter(bloomFilter);
            }

            System.out.println("å¸ƒéš†è¿‡æ»¤å™¨å·²è®¾ç½®");
        }
    }
}
```

**èŠ‚ç‚¹å¯¹æ¯”ï¼š**
| ç‰¹æ€§ | å…¨èŠ‚ç‚¹ | è½»èŠ‚ç‚¹ |
|------|--------|--------|
| **å­˜å‚¨** | ~500GB | <1GB |
| **å¸¦å®½** | é«˜ | ä½ |
| **éªŒè¯** | å®Œå…¨éªŒè¯ | SPVéªŒè¯ |
| **éšç§** | é«˜ | ä½ |
| **å®‰å…¨** | æœ€é«˜ | ä¾èµ–å…¨èŠ‚ç‚¹ |

### 4. æ™®é€šç”¨æˆ·ï¼ˆUsersï¼‰

ç”¨æˆ·é€šè¿‡é’±åŒ…è½¯ä»¶ä½¿ç”¨æ¯”ç‰¹å¸è¿›è¡Œæ”¯ä»˜å’Œæ¥æ”¶ã€‚

```java
public class BitcoinUser {
    private Wallet wallet;
    private String address;

    // ç”¨æˆ·æ“ä½œ
    public class UserOperations {

        // 1. æ¥æ”¶æ¯”ç‰¹å¸
        public void receiveBitcoin() {
            // ç”Ÿæˆæ¥æ”¶åœ°å€
            String receiveAddress = wallet.getNewAddress();

            System.out.println("æ¥æ”¶åœ°å€: " + receiveAddress);
            System.out.println("è¯·å°†æ­¤åœ°å€æä¾›ç»™ä»˜æ¬¾æ–¹");

            // ç›‘å¬æ¥æ”¶
            wallet.onReceive((tx) -> {
                System.out.println("æ”¶åˆ° " + tx.getAmount() / 1e8 + " BTC");
                System.out.println("äº¤æ˜“ID: " + tx.getTxId());
                System.out.println("ç¡®è®¤æ•°: " + tx.getConfirmations());
            });
        }

        // 2. å‘é€æ¯”ç‰¹å¸
        public void sendBitcoin(String toAddress, double amount) {
            // æ£€æŸ¥ä½™é¢
            double balance = wallet.getBalance();
            if (balance < amount) {
                System.out.println("ä½™é¢ä¸è¶³");
                return;
            }

            // ä¼°ç®—æ‰‹ç»­è´¹
            double fee = wallet.estimateFee(toAddress, amount);
            System.out.println("é¢„è®¡æ‰‹ç»­è´¹: " + fee + " BTC");

            // ç¡®è®¤å‘é€
            System.out.println("å‘é€ " + amount + " BTC åˆ° " + toAddress);

            // åˆ›å»ºå¹¶å¹¿æ’­äº¤æ˜“
            String txId = wallet.send(toAddress, amount);
            System.out.println("äº¤æ˜“å·²å‘é€: " + txId);

            // ç­‰å¾…ç¡®è®¤
            wallet.waitForConfirmation(txId, 6);
            System.out.println("äº¤æ˜“å·²ç¡®è®¤");
        }

        // 3. ç®¡ç†é’±åŒ…
        public void manageWallet() {
            // æŸ¥çœ‹ä½™é¢
            double confirmed = wallet.getConfirmedBalance();
            double unconfirmed = wallet.getUnconfirmedBalance();
            System.out.println("å·²ç¡®è®¤ä½™é¢: " + confirmed + " BTC");
            System.out.println("æœªç¡®è®¤ä½™é¢: " + unconfirmed + " BTC");

            // æŸ¥çœ‹äº¤æ˜“å†å²
            List<Transaction> history = wallet.getTransactionHistory();
            System.out.println("\näº¤æ˜“å†å²:");
            for (Transaction tx : history) {
                System.out.println("- " + tx.getType() + ": " +
                                 tx.getAmount() + " BTC (" +
                                 tx.getConfirmations() + " ç¡®è®¤)");
            }

            // å¤‡ä»½é’±åŒ…
            String mnemonic = wallet.exportMnemonic();
            System.out.println("\nåŠ©è®°è¯ï¼ˆè¯·å®‰å…¨ä¿ç®¡ï¼‰:");
            System.out.println(mnemonic);
        }
    }
}
```

## åŸºç¡€è®¾æ–½

### 1. çŸ¿æ± ï¼ˆMining Poolsï¼‰

çŸ¿æ± èšåˆå¤šä¸ªçŸ¿å·¥çš„ç®—åŠ›ï¼Œå¹³æ»‘æ”¶ç›Šæ³¢åŠ¨ã€‚

```mermaid
graph TD
    A[çŸ¿æ± ] --> B[çŸ¿å·¥1: 10 TH/s]
    A --> C[çŸ¿å·¥2: 50 TH/s]
    A --> D[çŸ¿å·¥3: 100 TH/s]
    A --> E[çŸ¿å·¥N: ...]

    A --> F[æ€»ç®—åŠ›: 1000 TH/s]
    F --> G[æŒ–åˆ°åŒºå—]
    G --> H[å¥–åŠ±åˆ†é…]

    H --> H1[çŸ¿å·¥1: 1%]
    H --> H2[çŸ¿å·¥2: 5%]
    H --> H3[çŸ¿å·¥3: 10%]
    H --> H4[çŸ¿æ± è´¹ç”¨: 2%]
```

**ä¸»è¦çŸ¿æ± ï¼š**
| çŸ¿æ±  | ç®—åŠ›å æ¯” | è´¹ç”¨ | æ”¯ä»˜æ–¹å¼ |
|------|---------|------|----------|
| **Foundry USA** | ~30% | 0-3% | FPPS |
| **Antpool** | ~20% | 1-4% | PPS+|
| **F2Pool** | ~15% | 2.5% | PPS+ |
| **Binance Pool** | ~10% | 2.5% | FPPS |

### 2. äº¤æ˜“æ‰€ï¼ˆExchangesï¼‰

äº¤æ˜“æ‰€æä¾›æ³•å¸ä¸æ¯”ç‰¹å¸ä¹‹é—´çš„å…‘æ¢æœåŠ¡ã€‚

```java
public class Exchange {
    // äº¤æ˜“æ‰€åŠŸèƒ½
    public class ExchangeServices {

        // 1. äº¤æ˜“å¯¹
        public void tradingPairs() {
            System.out.println("æ”¯æŒçš„äº¤æ˜“å¯¹:");
            System.out.println("- BTC/USD");
            System.out.println("- BTC/EUR");
            System.out.println("- BTC/USDT");
        }

        // 2. è®¢å•ç±»å‹
        public void orderTypes() {
            // å¸‚ä»·å•
            Order marketOrder = new Order();
            marketOrder.setType(OrderType.MARKET);
            marketOrder.setAmount(0.1);  // BTC

            // é™ä»·å•
            Order limitOrder = new Order();
            limitOrder.setType(OrderType.LIMIT);
            limitOrder.setPrice(50000);  // USD
            limitOrder.setAmount(0.1);   // BTC

            // æ­¢æŸå•
            Order stopOrder = new Order();
            stopOrder.setType(OrderType.STOP_LOSS);
            stopOrder.setStopPrice(45000);
            stopOrder.setAmount(0.1);
        }

        // 3. å……å€¼æç°
        public void depositWithdraw() {
            // å……å€¼
            String depositAddress = generateDepositAddress();
            System.out.println("å……å€¼åœ°å€: " + depositAddress);

            // æç°
            String withdrawTx = withdraw(userAddress, 0.5);
            System.out.println("æç°äº¤æ˜“: " + withdrawTx);
        }
    }
}
```

**äº¤æ˜“æ‰€ç±»å‹ï¼š**
- **ä¸­å¿ƒåŒ–äº¤æ˜“æ‰€ï¼ˆCEXï¼‰**ï¼šBinanceã€Coinbaseã€Kraken
- **å»ä¸­å¿ƒåŒ–äº¤æ˜“æ‰€ï¼ˆDEXï¼‰**ï¼šBisqã€HodlHodl
- **åœºå¤–äº¤æ˜“ï¼ˆOTCï¼‰**ï¼šé€‚åˆå¤§é¢äº¤æ˜“

### 3. é’±åŒ…æœåŠ¡ï¼ˆWallet Servicesï¼‰

**é’±åŒ…ç±»å‹ï¼š**
```mermaid
graph TD
    A[æ¯”ç‰¹å¸é’±åŒ…] --> B[çƒ­é’±åŒ…]
    A --> C[å†·é’±åŒ…]

    B --> B1[è½¯ä»¶é’±åŒ…]
    B --> B2[ç½‘é¡µé’±åŒ…]
    B --> B3[æ‰‹æœºé’±åŒ…]

    C --> C1[ç¡¬ä»¶é’±åŒ…]
    C --> C2[çº¸é’±åŒ…]
    C --> C3[è„‘é’±åŒ…]

    B1 --> B1A[Bitcoin Core]
    B1 --> B1B[Electrum]

    B3 --> B3A[Trust Wallet]
    B3 --> B3B[Blue Wallet]

    C1 --> C1A[Ledger]
    C1 --> C1B[Trezor]
```

### 4. æ”¯ä»˜å¤„ç†å•†ï¼ˆPayment Processorsï¼‰

```java
public class PaymentProcessor {
    // å•†æˆ·é›†æˆ
    public class MerchantIntegration {

        // 1. åˆ›å»ºæ”¯ä»˜è¯·æ±‚
        public PaymentRequest createPayment(double amount, String currency) {
            PaymentRequest request = new PaymentRequest();

            // è½¬æ¢ä¸º BTC
            double btcAmount = convertToBTC(amount, currency);
            request.setAmount(btcAmount);

            // ç”Ÿæˆæ”¯ä»˜åœ°å€
            String paymentAddress = generateAddress();
            request.setAddress(paymentAddress);

            // è®¾ç½®è¿‡æœŸæ—¶é—´ï¼ˆ15åˆ†é’Ÿï¼‰
            request.setExpiry(System.currentTimeMillis() + 15 * 60 * 1000);

            System.out.println("æ”¯ä»˜è¯·æ±‚å·²åˆ›å»º:");
            System.out.println("é‡‘é¢: " + btcAmount + " BTC");
            System.out.println("åœ°å€: " + paymentAddress);

            return request;
        }

        // 2. ç›‘æ§æ”¯ä»˜
        public void monitorPayment(PaymentRequest request) {
            while (System.currentTimeMillis() < request.getExpiry()) {
                // æ£€æŸ¥åœ°å€æ˜¯å¦æ”¶åˆ°ä»˜æ¬¾
                List<Transaction> txs = checkAddress(request.getAddress());

                for (Transaction tx : txs) {
                    if (tx.getAmount() >= request.getAmount()) {
                        System.out.println("æ”¶åˆ°æ”¯ä»˜!");
                        processPayment(tx);
                        return;
                    }
                }

                // ç­‰å¾…10ç§’åé‡è¯•
                Thread.sleep(10_000);
            }

            System.out.println("æ”¯ä»˜è¶…æ—¶");
        }

        // 3. ç»“ç®—
        public void settlement() {
            // æ¯æ—¥ç»“ç®—åˆ°å•†æˆ·è´¦æˆ·
            double dailyRevenue = calculateDailyRevenue();
            double fee = dailyRevenue * 0.01;  // 1% æ‰‹ç»­è´¹
            double netRevenue = dailyRevenue - fee;

            // è½¬æ¢ä¸ºæ³•å¸
            double fiatAmount = convertToFiat(netRevenue, "USD");

            // é“¶è¡Œè½¬è´¦
            bankTransfer(merchantAccount, fiatAmount);

            System.out.println("ç»“ç®—å®Œæˆ: $" + fiatAmount);
        }
    }
}
```

**ä¸»è¦æ”¯ä»˜å¤„ç†å•†ï¼š**
- **BTCPay Server**ï¼šå¼€æºè‡ªæ‰˜ç®¡
- **Coinbase Commerce**ï¼šæ˜“é›†æˆ
- **BitPay**ï¼šå†å²æ‚ ä¹…

## æœåŠ¡æä¾›å•†

### 1. åŒºå—æµè§ˆå™¨ï¼ˆBlock Explorersï¼‰

```java
public class BlockExplorer {
    public void exploreBlockchain() {
        // æŸ¥è¯¢åŒºå—
        Block block = getBlock(700000);
        System.out.println("åŒºå— #" + block.getHeight());
        System.out.println("å“ˆå¸Œ: " + block.getHash());
        System.out.println("æ—¶é—´: " + block.getTimestamp());
        System.out.println("äº¤æ˜“æ•°: " + block.getTransactions().size());

        // æŸ¥è¯¢äº¤æ˜“
        Transaction tx = getTransaction(txId);
        System.out.println("äº¤æ˜“ID: " + tx.getTxId());
        System.out.println("é‡‘é¢: " + tx.getAmount());
        System.out.println("ç¡®è®¤æ•°: " + tx.getConfirmations());

        // æŸ¥è¯¢åœ°å€
        Address address = getAddress(btcAddress);
        System.out.println("åœ°å€: " + address.getAddress());
        System.out.println("ä½™é¢: " + address.getBalance());
        System.out.println("äº¤æ˜“æ•°: " + address.getTxCount());
    }
}
```

**ä¸»æµåŒºå—æµè§ˆå™¨ï¼š**
- **Blockchain.com**
- **Blockstream.info**
- **BTC.com**
- **Mempool.space**

### 2. æ•°æ®åˆ†ææœåŠ¡

```java
public class BlockchainAnalytics {
    // é“¾ä¸Šæ•°æ®åˆ†æ
    public void analyzeOnChainData() {
        // ç½‘ç»œæ´»è·ƒåº¦
        int dailyTx = getDailyTransactions();
        int activeAddresses = getDailyActiveAddresses();

        // å¸‚åœºæŒ‡æ ‡
        double marketCap = getMarketCap();
        long tradingVolume = get24hVolume();

        // æŒ–çŸ¿æŒ‡æ ‡
        double hashRate = getNetworkHashRate();
        double difficulty = getDifficulty();
        int mempoolSize = getMempoolSize();

        System.out.println("=== é“¾ä¸Šæ•°æ® ===");
        System.out.println("æ—¥äº¤æ˜“é‡: " + dailyTx);
        System.out.println("æ´»è·ƒåœ°å€: " + activeAddresses);
        System.out.println("ç½‘ç»œç®—åŠ›: " + hashRate + " EH/s");
        System.out.println("å†…å­˜æ± : " + mempoolSize + " ç¬”");
    }
}
```

**æ•°æ®æœåŠ¡æä¾›å•†ï¼š**
- **Glassnode**ï¼šä¸“ä¸šé“¾ä¸Šåˆ†æ
- **CoinMetrics**ï¼šæœºæ„çº§æ•°æ®
- **Blockchain.com**ï¼šåŸºç¡€æ•°æ®

## å¼€å‘ç”Ÿæ€

### 1. Bitcoin Core å¼€å‘

```bash
# è´¡çŒ®æµç¨‹
git clone https://github.com/bitcoin/bitcoin.git
cd bitcoin

# åˆ›å»ºåˆ†æ”¯
git checkout -b my-feature

# å¼€å‘å’Œæµ‹è¯•
make test

# æäº¤ Pull Request
```

### 2. æ¯”ç‰¹å¸æ”¹è¿›ææ¡ˆï¼ˆBIPsï¼‰

BIPs æ˜¯æ¯”ç‰¹å¸åè®®æ”¹è¿›çš„æ ‡å‡†åŒ–æµç¨‹ã€‚

```
BIPæµç¨‹:
è‰æ¡ˆ -> æè®® -> æœ€ç»ˆ -> æ¿€æ´»
```

### 3. åº”ç”¨å¼€å‘ç”Ÿæ€

```java
// ä½¿ç”¨ BitcoinJ å¼€å‘åº”ç”¨
public class BitcoinApp {
    public static void main(String[] args) {
        // åˆå§‹åŒ–ç½‘ç»œå‚æ•°
        NetworkParameters params = TestNet3Params.get();

        // åˆ›å»ºé’±åŒ…
        Wallet wallet = Wallet.createDeterministic(params,
            Script.ScriptType.P2WPKH);

        // è¿æ¥åˆ°ç½‘ç»œ
        PeerGroup peerGroup = new PeerGroup(params);
        peerGroup.start();

        // å¼€å§‹åº”ç”¨é€»è¾‘
        // ...
    }
}
```

## ç”Ÿæ€ç³»ç»Ÿå‘å±•è¶‹åŠ¿

```mermaid
timeline
    title æ¯”ç‰¹å¸ç”Ÿæ€æ¼”è¿›
    2009 : åˆ›ä¸–åŒºå—
         : ä¸ªäººæŒ–çŸ¿æ—¶ä»£
    2011 : ç¬¬ä¸€ä¸ªçŸ¿æ± 
         : ç¬¬ä¸€ä¸ªäº¤æ˜“æ‰€
    2013 : ASICçŸ¿æœº
         : æ”¯ä»˜å¤„ç†å•†
    2017 : éš”ç¦»è§è¯
         : é—ªç”µç½‘ç»œ
    2021 : Taprootå‡çº§
         : æœºæ„é‡‡ç”¨
    2024 : Layer 2æ‰©å±•
         : DeFié›†æˆ
```

## æ€»ç»“

### æ ¸å¿ƒè¦ç‚¹

âœ… **ç½‘ç»œå‚ä¸è€…**
- çŸ¿å·¥ï¼šæä¾›ç®—åŠ›ï¼Œç»´æŠ¤å®‰å…¨
- å…¨èŠ‚ç‚¹ï¼šéªŒè¯äº¤æ˜“ï¼Œå­˜å‚¨åŒºå—é“¾
- è½»èŠ‚ç‚¹ï¼šè½»é‡éªŒè¯ï¼ŒèŠ‚çœèµ„æº
- ç”¨æˆ·ï¼šä½¿ç”¨æ¯”ç‰¹å¸æ”¯ä»˜

âœ… **åŸºç¡€è®¾æ–½**
- çŸ¿æ± ï¼šèšåˆç®—åŠ›
- äº¤æ˜“æ‰€ï¼šæ³•å¸å…‘æ¢
- é’±åŒ…ï¼šç§é’¥ç®¡ç†
- æ”¯ä»˜ï¼šå•†æˆ·é›†æˆ

âœ… **æœåŠ¡æä¾›å•†**
- åŒºå—æµè§ˆå™¨ï¼šæ•°æ®æŸ¥è¯¢
- åˆ†ææœåŠ¡ï¼šé“¾ä¸Šæ•°æ®
- OTCå¹³å°ï¼šå¤§é¢äº¤æ˜“

âœ… **å¼€å‘ç”Ÿæ€**
- Coreå¼€å‘ï¼šåè®®å±‚
- åº”ç”¨å¼€å‘ï¼šä¸Šå±‚åº”ç”¨
- BIPsï¼šæ ‡å‡†åŒ–æµç¨‹

---

**ç›¸å…³æ–‡æ¡£ï¼š**
- [æ¯”ç‰¹å¸åŸºç¡€æ¦‚å¿µå…¥é—¨](./10.æ¯”ç‰¹å¸åŸºç¡€æ¦‚å¿µå…¥é—¨.md)
- [æ¯”ç‰¹å¸æŒ–çŸ¿åŸç†](./04.æ¯”ç‰¹å¸æŒ–çŸ¿åŸç†.md)
- [æ¯”ç‰¹å¸ç½‘ç»œåè®®è¯¦è§£](./06.æ¯”ç‰¹å¸ç½‘ç»œåè®®è¯¦è§£.md)

æ¯”ç‰¹å¸ç”Ÿæ€ç³»ç»Ÿä¸°å¯Œè€Œå¤æ‚ï¼Œç†è§£å„ä¸ªè§’è‰²çš„ä½œç”¨æœ‰åŠ©äºå…¨é¢æŒæ¡æ¯”ç‰¹å¸ï¼ğŸŒ