---
title: SwiftUI 中的字体样式
date: 2025-07-24 10:00:01
tags:
- SwiftUI
categories:
- SwiftUI
---

# SwiftUI 中的字体样式

SwiftUI 提供了强大而灵活的字体系统，支持系统字体样式、自定义字体以及动态类型。本文将详细介绍如何在 SwiftUI 中使用和自定义字体样式。

## 1. 系统字体样式

### 1.1 预定义文本样式

SwiftUI 提供了 11 种预定义的文本样式，这些样式会自动适应用户的动态类型设置：

```swift
VStack(alignment: .leading, spacing: 10) {
    Text("Large Title").font(.largeTitle)
    Text("Title").font(.title)
    Text("Title 2").font(.title2)
    Text("Title 3").font(.title3)
    Text("Headline").font(.headline)
    Text("Body").font(.body)
    Text("Callout").font(.callout)
    Text("Subheadline").font(.subheadline)
    Text("Footnote").font(.footnote)
    Text("Caption").font(.caption)
    Text("Caption 2").font(.caption2)
}
```

### 1.2 字体设计样式

SwiftUI 支持四种字体设计样式：

```swift
VStack(alignment: .leading, spacing: 10) {
    Text("Default Design").font(.system(.title, design: .default))
    Text("Rounded Design").font(.system(.title, design: .rounded))
    Text("Monospaced Design").font(.system(.title, design: .monospaced))
    Text("Serif Design").font(.system(.title, design: .serif))
}
```

## 2. 字体大小和权重

### 2.1 自定义字体大小

```swift
VStack(alignment: .leading, spacing: 10) {
    Text("固定大小 12pt").font(.system(size: 12))
    Text("固定大小 18pt").font(.system(size: 18))
    Text("固定大小 24pt").font(.system(size: 24))
    Text("固定大小 36pt").font(.system(size: 36))
}
```

### 2.2 字体权重

```swift
VStack(alignment: .leading, spacing: 8) {
    Text("Ultra Light").fontWeight(.ultraLight)
    Text("Thin").fontWeight(.thin)
    Text("Light").fontWeight(.light)
    Text("Regular").fontWeight(.regular)
    Text("Medium").fontWeight(.medium)
    Text("Semibold").fontWeight(.semibold)
    Text("Bold").fontWeight(.bold)
    Text("Heavy").fontWeight(.heavy)
    Text("Black").fontWeight(.black)
}
```

### 2.3 组合使用

```swift
VStack(alignment: .leading, spacing: 10) {
    Text("标题样式 + 粗体")
        .font(.title)
        .fontWeight(.bold)
    
    Text("自定义大小 + 权重")
        .font(.system(size: 20, weight: .semibold, design: .rounded))
    
    Text("使用 Font 修饰符")
        .font(.title2.weight(.medium))
}
```

## 3. 自定义字体

### 3.1 添加自定义字体到项目

1. 将字体文件（.ttf 或 .otf）添加到 Xcode 项目中
2. 在 Info.plist 中添加字体文件名：

```xml
<key>UIAppFonts</key>
<array>
    <string>CustomFont-Regular.ttf</string>
    <string>CustomFont-Bold.ttf</string>
</array>
```

### 3.2 使用自定义字体

```swift
VStack(alignment: .leading, spacing: 10) {
    Text("自定义字体 - 固定大小")
        .font(.custom("CustomFont-Regular", size: 18))
    
    Text("自定义字体 - 相对于系统样式")
        .font(.custom("CustomFont-Bold", size: 20, relativeTo: .headline))
}
```

### 3.3 创建字体枚举

为了更好地管理自定义字体，建议创建字体枚举：

```swift
enum CustomFonts: String {
    case regular = "CustomFont-Regular"
    case bold = "CustomFont-Bold"
    case italic = "CustomFont-Italic"
    case boldItalic = "CustomFont-BoldItalic"
}

// 使用示例
Text("使用枚举管理字体")
    .font(.custom(CustomFonts.bold.rawValue, size: 18))
```

### 3.4 扩展 Font 以支持自定义字体

```swift
extension Font {
    static func customFont(_ font: CustomFonts, size: CGFloat) -> Font {
        return .custom(font.rawValue, size: size)
    }
    
    static func customFont(_ font: CustomFonts, style: TextStyle) -> Font {
        return .custom(font.rawValue, size: style.size, relativeTo: style)
    }
}

extension Font.TextStyle {
    var size: CGFloat {
        switch self {
        case .largeTitle: return 34
        case .title: return 28
        case .title2: return 22
        case .title3: return 20
        case .headline: return 17
        case .body: return 17
        case .callout: return 16
        case .subheadline: return 15
        case .footnote: return 13
        case .caption: return 12
        case .caption2: return 11
        @unknown default: return 17
        }
    }
}

// 使用示例
Text("扩展后的自定义字体")
    .font(.customFont(.bold, style: .headline))
```

## 4. 动态类型支持

### 4.1 什么是动态类型

动态类型允许用户在系统设置中调整文本大小，以提高可读性和可访问性。SwiftUI 的系统字体样式会自动支持动态类型。

### 4.2 自定义字体的动态类型支持

```swift
struct DynamicCustomFont: View {
    var body: some View {
        VStack(alignment: .leading, spacing: 10) {
            Text("系统字体 - 自动缩放")
                .font(.headline)
            
            Text("自定义字体 - 支持缩放")
                .font(.custom("CustomFont-Regular", size: 17, relativeTo: .headline))
            
            Text("自定义字体 - 固定大小")
                .font(.custom("CustomFont-Regular", fixedSize: 17))
        }
    }
}
```

### 4.3 限制字体缩放范围

```swift
Text("限制缩放范围的文本")
    .font(.title)
    .dynamicTypeSize(.medium...DynamicTypeSize.accessibility1)
```

## 5. 全局字体设置

### 5.1 扩展 Font 实现全局自定义字体

```swift
extension Font {
    private static var customFontName: String { "YourCustomFont-Regular" }
    private static var customBoldFontName: String { "YourCustomFont-Bold" }
    
    public static var largeTitle: Font {
        return Font.custom(customFontName, size: UIFont.preferredFont(forTextStyle: .largeTitle).pointSize)
    }
    
    public static var title: Font {
        return Font.custom(customFontName, size: UIFont.preferredFont(forTextStyle: .title1).pointSize)
    }
    
    public static var headline: Font {
        return Font.custom(customBoldFontName, size: UIFont.preferredFont(forTextStyle: .headline).pointSize)
    }
    
    public static var body: Font {
        return Font.custom(customFontName, size: UIFont.preferredFont(forTextStyle: .body).pointSize)
    }
    
    // 其他样式...
}
```

## 6. 实际应用示例

### 6.1 文章标题和内容

```swift
struct ArticleView: View {
    var body: some View {
        VStack(alignment: .leading, spacing: 16) {
            Text("SwiftUI 字体样式指南")
                .font(.largeTitle)
                .fontWeight(.bold)
            
            Text("发布日期：2024年1月1日")
                .font(.caption)
                .foregroundColor(.secondary)
            
            Text("本文将详细介绍 SwiftUI 中的字体使用方法...")
                .font(.body)
                .lineSpacing(4)
            
            Text("重要提示")
                .font(.headline)
                .fontWeight(.semibold)
            
            Text("使用系统字体样式可以确保更好的可访问性。")
                .font(.callout)
                .padding()
                .background(Color.blue.opacity(0.1))
                .cornerRadius(8)
        }
        .padding()
    }
}
```

### 6.2 卡片式布局

```swift
struct FontCard: View {
    let title: String
    let description: String
    
    var body: some View {
        VStack(alignment: .leading, spacing: 8) {
            Text(title)
                .font(.title2)
                .fontWeight(.semibold)
            
            Text(description)
                .font(.body)
                .foregroundColor(.secondary)
                .lineLimit(3)
        }
        .padding()
        .background(Color(.systemBackground))
        .cornerRadius(12)
        .shadow(radius: 2)
    }
}
```

## 7. 最佳实践

### 7.1 字体选择建议

1. **优先使用系统字体样式**：确保更好的可访问性和一致性
2. **合理使用自定义字体**：仅在品牌需要或特殊设计要求时使用
3. **支持动态类型**：使用 `relativeTo` 参数让自定义字体支持动态缩放
4. **测试不同尺寸**：在不同的动态类型设置下测试应用

### 7.2 性能优化

1. **字体文件大小**：选择合适的字体文件，避免过大的文件影响应用启动时间
2. **字体缓存**：系统会自动缓存字体，避免重复加载
3. **按需加载**：只添加实际使用的字体权重和样式

### 7.3 可访问性考虑

```swift
Text("重要信息")
    .font(.headline)
    .accessibilityAddTraits(.isHeader)
    .dynamicTypeSize(.medium...DynamicTypeSize.accessibility3)
```

## 8. 常见问题和解决方案

### 8.1 自定义字体不显示

1. 检查字体文件是否正确添加到项目中
2. 确认 Info.plist 中的字体文件名正确
3. 使用正确的字体名称（PostScript 名称）

### 8.2 获取字体的真实名称

```swift
// 打印所有可用字体
for family in UIFont.familyNames {
    print("Font Family: \(family)")
    for font in UIFont.fontNames(forFamilyName: family) {
        print("  Font: \(font)")
    }
}
```

### 8.3 字体在不同设备上显示不一致

使用相对字体大小和动态类型可以解决这个问题：

```swift
Text("一致显示的文本")
    .font(.custom("CustomFont", size: 17, relativeTo: .body))
```

## 总结

SwiftUI 的字体系统提供了从简单的系统字体到复杂的自定义字体解决方案。通过合理使用系统字体样式、支持动态类型以及遵循最佳实践，可以创建既美观又具有良好可访问性的应用界面。记住始终在不同的设备和动态类型设置下测试你的字体选择。
