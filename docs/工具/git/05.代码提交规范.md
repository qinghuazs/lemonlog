---
title: git commit规范
date: 2024/04/28
permalink: /git/commit.html
tags:
  - git
categories:
  - git 
---

来自 AngularJS 所用的规范 ，格式如下：

```
<type>(<scope>): <subject>
 
<body>
 
<footer>
```
## type 

type用于说明 commit 的类别，必填

type字段：只允许使用下面8个标识

```
# * feat：新功能（feature）
# * fix：修复 bug。比如修复程序中的一个错误或者异常。
# * docs：更新文档。比如更新 README、文档注释等。
# * style： 格式（不影响代码运行的变动）。比如调整代码的格式、删除冗余的空格等。
# * refactor：重构代码。比如重构代码结构、优化算法等。（即不是新增功能，也不是修改bug的代码变动）
# * test：添加或修改测试代码。比如新增单元测试、集成测试等。
# * chore：构建、打包、部署等其他工作。比如更新依赖、配置文件等。
# * revert: 回退之前提交的版本
```

## scope

用于说明 commit 影响的范围，非必填:比如数据层、控制层、视图层等等，视项目不同而不同

## subject

commit 目的的简短描述，不超过50个字符，必填

```
# * 以动词开头，使用第一人称现在时，比如change，而不是changed或changes,可以写成:Fix issue #8976
# * 第一个字母小写
# * 结尾不加句号（.）
```

## body

第一人称现在时，说明动机，与之前的对比，英语每行 72 字符以内

Body 部分是对本次 commit 的详细描述，可以分成多行。下面是一个范例。

```
#   More detailed explanatory text, if necessary.  Wrap it to
#   about 72 characters or so.
#
#   Further paragraphs come after blank lines.
#
#   - Bullet points are okay, too
#   - Use a hanging indent
```
## footer

与前不兼容的改动用 'BREAKING CHANGE:' 开头，给出修复方案。对 Issues 进行操作

```
#   Footer 部分只用于两种情况。
#   - 不兼容变动；
#   - 关闭 Issue,如#SJK-2979, gitlab与jira已打通，可触发jira的相关流程
```

## 配置模板

自定义一个模板

```
$ vim .commit_template
  
# type(<scope>): <subject>
 
# <body>
 
# <footer>
```

加入到 git 配置中

```
git config --global commit.template path/to/template
```

也可以在 ~/.gitconfig 中手动添加

```
[commit]
    template = path/to/template
```

提交时使用模板

之后提交时，使用 git commit 不带 -m 参数，就可以调出模板。

## Intellij Idea插件

插件名称：git-commit-template， 可直接在插件管理中搜索安装，也可通过以下链接下载安装